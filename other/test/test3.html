<!DOCTYPE html>

<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <title>淡入淡出</title>
    <style type="text/css">
        *{ margin: 0; padding: 0;}
        /*
        .div1{ border: 2px solid red;}
        */
        .btn{ margin: 15px 2px; border: 2px solid gray;}
        .p1{ font-size: 16px;}
        .p2{ font-size: 14px; background-color: #ccc; color: white; display: none;}
        .abc{ border: 1px solid green;}
    </style>
</head>
<body>
    <div class="div1">
        <div class="btn">
            <p class="p1">你点我吧</p>
            <p class="p2">这里是隐藏的内容</p>
        </div>
        <div class="btn">
            <p class="p1">你点我吧</p>
            <p class="p2">这里是隐藏的内容</p>
        </div>
        <div class="btn">
            <p class="p1">你点我吧</p>
            <p class="p2">这里是隐藏的内容</p>
        </div>
    </div>

    <button class="btn-add">点击添加</button>
</body>
<script src="js/jquery-1.10.2.min.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function(){
       $('.btn').on('click',function(){
           var thisP = $(this).children('.p2');
           if(thisP.hide().hasClass('show'))
           {
               thisP.show();
           }
           else
           {

               thisP.slideDown('slow')
                       .addClass('show');
           }
           $(this).siblings('.btn')
                   .children('.p2')
                   .slideUp('slow')
                   .removeClass('show');
       });



        $('.btn-add').on('click',function(){
            var pLength = $('p').length;
           $('<p class="abc">'+ pLength +'</p>').appendTo('body');


       });
        $("body").on("click",'.abc',function(){
            alert($(this).index());
        });

        /*
        $('.btn-add').click(function(){
            var pLength = $('p').length;
            $('<p class="abc">'+ pLength +'</p>').appendTo('body');

            $(".abc").click(function(){
                alert($(this).index())
            });
        });
        */




    });
</script>
</html>