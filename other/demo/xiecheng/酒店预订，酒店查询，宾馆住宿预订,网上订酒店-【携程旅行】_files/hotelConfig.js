function getViewsPath(){return"/webapp/hotel/dest/templates/"}function buildViewTemplatesPath(e){return"text!/webapp/hotel/dest/"+getViewsPath()+e}require.config({paths:{cGeoService2:"/webapp/hotel/dest/lizard/c.geo.service",cWidgetGeolocation2:"/webapp/hotel/dest/lizard/c.widget.geolocation",cWidgetCalendar:"/webapp/hotel/dest/lizard/c.widget.calendar",cWidgetAbstractCalendar:"/webapp/hotel/dest/lizard/c.widget.abstract.calendar",cSessionStore:"/webapp/hotel/dest/lizard/c.session.store",cSessionStorage:"/webapp/hotel/dest/lizard/c.session.storage",cWidgetListView:"/webapp/hotel/dest/lizard/c.widget.listview",cCommonListPage:"/webapp/hotel/dest/lizard/c.page.common.list",cWidgetSlide:"/webapp/hotel/dest/lizard/c.widget.slide",cWidgetTipslayer:"/webapp/hotel/dest/lizard/c.widget.tipslayer",HotelBaseModel:"/webapp/hotel/dest/models/hotelbasemodel",OldRestfulModel:"/webapp/hotel/dest/models/oldrestfulmodel",HotelModel:"/webapp/hotel/dest/models/hotelmodel",HotelFilterModel:"/webapp/hotel/dest/models/hotelfiltermodel",HotelStore:"/webapp/hotel/dest/models/hotelstore",HotelBusiness:"/webapp/hotel/dest/models/hotelbusiness",HotelWidgetTipslayer:"/webapp/hotel/dest/common/hotel.widget.tipslayer",HotelUIBubbleLayer:"/webapp/hotel/dest/common/hotel.ui.bubble.layer",HotelUICheckBox:"/webapp/hotel/dest/common/checkbox",HotelRoomCalendar:"/webapp/hotel/dest/common/roomcalendar",Toolkit:"/webapp/hotel/dest/utility/utility",BizCityList:"/webapp/hotel/dest/bizcommon/bizcitylist",xSlide:"/webapp/hotel/dest/common/xslide",History:"/webapp/hotel/dest/common/history",PageTreeConfig:"/webapp/hotel/dest/common/pagetreeconfig",BusinessChannel:"/webapp/hotel/dest/pageviews/bizchannel",BookingInland:"/webapp/hotel/dest/bizcommon/bookinginland",BookingOrigin:"/webapp/hotel/dest/bizcommon/bookingorigin",BookingTW:"/webapp/hotel/dest/bizcommon/bookingtw",BookingOversea:"/webapp/hotel/dest/bizcommon/bookingoversea",WidgetUtility:"/webapp/hotel/dest/widgets/widgetutility",HotelWidgetPassenger:"/webapp/hotel/dest/widgets/passenger/passenger",PassengerOrigin:"/webapp/hotel/dest/widgets/passenger/passengerorigin",PassengerEditor:"/webapp/hotel/dest/widgets/passenger/passengereditor",PassengerInland:"/webapp/hotel/dest/widgets/passenger/passengerinland",PassengerHM:"/webapp/hotel/dest/widgets/passenger/passengerhm",PassengerOversea:"/webapp/hotel/dest/widgets/passenger/passengeroversea",HotelWidgetInvoice:"/webapp/hotel/dest/widgets/invoice/invoice",InvoiceOrigin:"/webapp/hotel/dest/widgets/invoice/invoiceorigin",InvoiceChooseTitle:"/webapp/hotel/dest/widgets/invoice/invoicechoosetitle",InvoiceEditTitle:"/webapp/hotel/dest/widgets/invoice/invoiceedittitle",InvoiceChooseAddr:"/webapp/hotel/dest/widgets/invoice/invoicechooseaddr",InvoiceEditAddr:"/webapp/hotel/dest/widgets/invoice/invoiceeditaddr",InvoiceChooseAddrProv:"/webapp/hotel/dest/widgets/invoice/invoicechooseaddrprov",InvoiceChooseAddrCity:"/webapp/hotel/dest/widgets/invoice/invoicechooseaddrcity",InvoiceChoosePayType:"/webapp/hotel/dest/widgets/invoice/invoicechoosepaytype",HotelBaseView:"/webapp/hotel/dest/webresource/controllers/hotelbaseview",PriceStar:"/webapp/hotel/dest/common/pricestar",DetailInland:"/webapp/hotel/dest/webresource/controllers/detailinland",DetailTaiwan:"/webapp/hotel/dest/webresource/controllers/detailtaiwan",SearchView:"/webapp/hotel/dest/webresource/controllers/searchview"}}),define("webresource/hotelConfig",function(){}),define("cWidgetGeolocation2",["cBase","cUtility","cWidgetFactory","cStore","cHybridFacade"],function(e,t,n,r,i){var s="Geolocation",o="0b895f63ca21c9e82eb158f46fe7f502";if(!n.hasWidget(s)){var u=u||{};u.requestGeographic=function(e,t){var n=function(t){e&&e(t)},r=function(e){var n="未能获取到您当前位置，请重试或选择城市";switch(e.code){case e.TIMEOUT:n="获取您当前位置超时，请重试或选择城市！";break;case e.PERMISSION_DENIED:n="您拒绝了使用位置共享服务，查询已取消，请开启位置共享或选择城市！";break;case e.POSITION_UNAVAILABLE:n="获取您当前位置信息失败，请重试或选择城市！"}t&&t(e,n)};window.navigator.geolocation.getCurrentPosition(n,r,{enableHighAccuracy:!0,maximumAge:5e3,timeout:2e4})},u.requestAMapAddress=function(e,t,n,r,i){var s="121.473704,31.230393";e&&t&&(s=e+","+t);var u=$.param({location:s,key:o,radius:0,extensions:"all"});i=i||8e3,$.ajax({url:"http://restapi.amap.com/v3/geocode/regeo?"+u,dataType:"jsonp",success:function(r){var i=r&&r.regeocode||"",o=i.addressComponent.city,u=i.addressComponent.province,a="";_.isString(o)?a=o:_.isString(u)&&(a=u);var l={address:_.isString(i.formatted_address)?i.formatted_address:"",location:s,info:i&&i.addressComponent,city:a,lng:e,lat:t};n&&n(l)},error:function(e){r&&r(e)},timeout:i})},u.requestAMapAround=function(e,t,n,r,i){var s="121.473704,31.230393";e&&t&&(s=e+","+t);var u=$.param({location:s,key:o,radius:500,offset:4,page:1});i=i||8e3,$.ajax({url:"http://restapi.amap.com/v3/place/around?"+u,dataType:"jsonp",success:function(e){var t=e&&e.pois||[];n&&n(t)},error:function(e){r&&r(e)},timeout:i})},u.requestAMapKeyword=function(e,t,n,r,i){var s=$.param({keywords:e,city:t,key:o,offset:10,page:1,extensions:"all"});i=i||8e3,$.ajax({url:"http://restapi.amap.com/v3/place/text?"+s,dataType:"jsonp",success:function(e){var t=e&&e.pois||[];n&&n(t)},error:function(e){r&&r(e)},timeout:i})},u.tansformLongitude=function(e,t,n,r,i){var s=$.param({locations:e+","+t,key:o,coordsys:"gps"});i=i||8e3,$.ajax({url:"http://restapi.amap.com/v3/assistant/coordinate/convert?"+s,dataType:"jsonp",success:function(e){if(e&&"1"===e.status){var t=e.locations.split(",");n&&n(t[0],t[1])}else r&&r()},error:function(e){r&&r(e)},timeout:i})},u.requestCityInfo=function(e,n,r,s,o){var a=function(){var t=function(t){if(t&&t.locateStatus){if(-1==t.locateStatus)return void r("网络不通，当前无法定位",1);if(-2==t.locateStatus)return void r("定位没有开启",2)}t&&t.value&&t.value.poi&&(t.value.poi.address&&""!=t.value.poi.address?t.value.addrs=t.value.poi.address:t.value.poi.name&&""!=t.value.poi.name&&(t.value.addrs=t.value.poi.name),t.value.poi.y&&""!=t.value.poi.y&&(t.value.lat=t.value.poi.y),t.value.poi.x&&""!=t.value.poi.x&&(t.value.lng=t.value.poi.x));var n=null;t&&t.value&&t.value.ctyName?n=t.value.ctyName:t&&t.value&&t.value.cityName?n=t.value.cityName:t&&t.value&&"香港特別行政區"==t.value.province?n="香港特別行政區":t&&t.value&&t.value.province&&(n=t.value.province.indexOf("市")>-1?t.value.province:t.value.subLocality);var i=null;t&&t.value&&t.value.addrs&&(i=t.value.addrs);var s=t.value.lat,o=t.value.lng;n&&i?e(i.indexOf(n)>-1?{city:n,address:i,lng:o,lat:s}:{city:n,address:n+i,lng:o,lat:s}):r("Error",0)},r=function(e,t){return"function"==typeof s?void s(e,t):void (n&&n(t))};i.request({name:i.METHOD_LOCATE,success:t,error:r})},f=function(){var t=function(t){var i=t.coords.longitude,s=t.coords.latitude;r&&r(i,s);var a=function(t){e&&e(t)},f=function(){n&&n()};o?u.tansformLongitude(i,s,function(e,t){u.requestAMapAddress(e,t,a,f)},function(e){f(e)}):u.requestAMapAddress(i,s,a,f)},i=function(e,t){return"function"==typeof s?void s(t,e):void (n&&n(t))};u.requestGeographic(t,i)},l=t.isInApp()?a:f;l()},u.requestAroundInfo=function(e,t,n){var r=e.split(",")[0],i=e.split(",")[1],s=function(e){t&&t(e)},o=function(){n&&n()};u.requestAMapAround(r,i,s,o)},u.requestKeywordInfo=function(e,t,n,r){var i=function(e){n&&n(e)},s=function(){r&&r()};u.requestAMapKeyword(e,t,i,s)};var a=u.PositionStore=e.Class(r,{__propertys__:function(){this.key="POSITION_CITY",this.lifeTime="10M"},initialize:function($super,e){$super(e)}});u.requestCacheCityInfo=function(e,t,n){var r=a.getInstance(),i=r.get();i?e&&e.call(n,i):u.requestCityInfo(function(t){r.set(t),e&&e.call(n,t)},function(e,r){t&&t.call(n,e,r)})},u.requestMap=function(e){var n=function(e){if(!(AMap&&e&&e.lat&&e.lng&&e.id))return!1;var t=13,n=new AMap.Map(e.id,{center:new AMap.LngLat(e.lng,e.lat),level:e.level||t}),r=document.createElement("div");r.className="map-content";var i=document.createElement("img");if(i.src="http://res.m.ctrip.com/html5/Content/images/map_address.png",r.appendChild(i),e.content){var s=document.createElement("span");s.innerHTML=e.content,r.appendChild(s)}var o=new AMap.Marker({position:new AMap.LngLat(e.lng,e.lat)});o.setContent(r),o.setMap(n)},r=function(){},i=t.isInApp()?r:n;i(e)},u.show_map=function(e){if(!e)throw new Error('function show_map error is "param is null"');e.name=i.METHOD_SHOW_MAP,i.request(e)},u.app_show_map_with_POI_list=function(e){i.request({name:i.METHOD_APP_SHOW_MAP_WITH_POI_LIST,poiList:e.poiList})},n.register({name:s,fn:u})}}),define("cGeoService2",["cWidgetFactory","cWidgetGeolocation2","cWidgetGuider"],function(e){var t={},n=e.create("Geolocation"),r=e.create("Guider"),i=n.PositionStore.getInstance();return t.GeoLocation=function(){function e(e,t,n){for(var r in a)a[r]&&"function"==typeof a[r][e]&&a[r][e].apply(a[r].scope,t);n&&(a={})}var t=0,s=1,o=2,u=3,a={},f=t,l=null;return{Subscribe:function(t,p,v,m){p=p||{},a[t]||(a[t]={name:t,onStart:p.onStart,onComplete:p.onComplete,onError:p.onError,onPosComplete:p.onPosComplete,onPosError:p.onPosError,scope:v});var y=i.get();if(m&&(y=null),y)f=s,e("onStart",null),f=o,e("onPosComplete",[y.lng,y.lat]),e("onComplete",[y],!0);else{if(clearTimeout(l),l=setTimeout(function(){f===s&&(f=u,r.print({log:"#cGeoService -- 22 second timeout call onError"}),e("onError",[null],!0))},35e3),f===s)return void (a[t]&&"function"==typeof a[t].onStart&&a[t].onStart.call(v));f=s,e("onStart",null),r.print({log:"#cGeoService -- start request city info"}),n.requestCityInfo(function(t){f=o,i.set(t),e("onComplete",[t],!0)},function(t,n){f=u,"number"==typeof n&&2===n&&(n={code:1}),r.print({log:"#cGeoService -- locate onError"}),e("onError",[t,n],!0)},function(t,n){e("onPosComplete",[t,n])},function(t,n){f=u,"number"==typeof n&&2===n&&(n={code:1}),e("onPosError",[t,n],!0)},!0)}},UnSubscribe:function(e){e=_.isArray(e)?e:[e];for(var t=0;t<e.length;t++)delete a[e[t]]},ClearPosition:function(){i.remove()}}}(),t.GeoAround=function(){return{Subscribe:function(e,t,r,i){n.requestAroundInfo(e,function(e){t.call(i,e)},function(){r.call(i)})}}}(),t.GeoKeyword=function(){return{Subscribe:function(e,t,r,i,s){n.requestKeywordInfo(e,t,function(e){r.call(s,e)},function(){i.call(s)})}}}(),t}),define("cWidgetAbstractCalendar",["cCoreInherit","cUIAbstractView","cWidgetFactory"],function(e,t,n){"user strict";var r="Abstract.Calendar";if(!n.hasWidget(r)){var i=new e.Class(t,{__propertys__:function(){this.CONSTANT={CALENDAR_CHINESE_LUNAR_INFO:[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835],CALENDAR_CHINESE_WEEKDAY:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],CALENDAR_CHINESE_NUMBER:["日","一","二","三","四","五","六","七","八","九","十"],CALENDAR_CHINESE_CARRT:["初","十","廿","卅","　"],CALENDAR_CHINESE_HOLIDAY:{1230:"除夕","0101":"初一","0115":"元宵","0505":"端午","0707":"七夕","0815":"中秋","0909":"重阳"},CALENDAR_COMMON_HOLIDAY:{"0101":"元旦","0214":"情人节","0501":"五一",1001:"国庆",1225:"圣诞节"},CALENDAR_WEEKDAY_NAME:{0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"},CALENDAR_WEEKDAY_SHORTNAME:{0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六"},CALENDAR_WEEKDAY_SHORTNAME2:{0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"},CALENDAR_INIT_DATE:1,CALENDAR_MONTH:5,INIT_DATE_TIME:{H:0,M:0,S:0,MS:0},CALENDAR:"calendar"}},initialize:function($super,e){this.isLeapYear(this.startMonth.getFullYear())||this.isLeapYear(this.startMonth.getFullYear()-1)?(this.CONSTANT.CALENDAR_COMMON_HOLIDAY["0404"]="清明",delete this.CONSTANT.CALENDAR_COMMON_HOLIDAY["0405"]):(this.CONSTANT.CALENDAR_COMMON_HOLIDAY["0405"]="清明",delete this.CONSTANT.CALENDAR_COMMON_HOLIDAY["0404"]),$super(e)},setCalendarDate:function(e){this.dateObj="undefined"!==e?e:new Date,this.SY=this.dateObj.getFullYear(),this.SM=this.dateObj.getMonth(),this.SD=this.dateObj.getDate(),this.lunarInfo=this.CONSTANT.CALENDAR_CHINESE_LUNAR_INFO},leapMonth:function(e){return 15&this.lunarInfo[e-1900]},monthDays:function(e,t){return this.lunarInfo[e-1900]&65536>>t?30:29},leapDays:function(e){return this.leapMonth(e)?65536&this.lunarInfo[e-1900]?30:29:0},lYearDays:function(e){for(var t=348,n=32768;n>8;n>>=1)t+=this.lunarInfo[e-1900]&n?1:0;return t+this.leapDays(e)},Lunar:function(e){var t,n=0,r=0,i={},s=new Date(1900,0,31),o=(e-s)/864e5;for(i.dayCyl=o+40,i.monCyl=14,t=1900;2050>t&&o>0;t++)r=this.lYearDays(t),o-=r,i.monCyl+=12;for(0>o&&(o+=r,t--,i.monCyl-=12),i.year=t,i.yearCyl=t-1864,n=this.leapMonth(t),i.isLeap=!1,t=1;13>t&&o>0;t++)n>0&&t===n+1&&i.isLeap===!1?(--t,i.isLeap=!0,r=this.leapDays(i.year)):r=this.monthDays(i.year,t),i.isLeap===!0&&t===n+1&&(i.isLeap=!1),o-=r,i.isLeap===!1&&i.monCyl++;return 0===o&&n>0&&t===n+1&&(i.isLeap?i.isLeap=!1:(i.isLeap=!0,--t,--i.monCyl)),0>o&&(o+=r,--t,--i.monCyl),i.month=t,i.day=o+1,i},cDay:function(e,t){var n,r=this.CONSTANT.CALENDAR_CHINESE_NUMBER,i=this.CONSTANT.CALENDAR_CHINESE_CARRT;switch(n=e>10?"十"+r[e-10]:r[e],n+="月",t){case 10:n+="初十";break;case 20:n+="二十";break;case 30:n+="三十";break;default:n+=i[Math.floor(t/10)],n+=r[t%10]}return n},solarDay2:function(e){this.setCalendarDate(e);var t=new Date(this.SY,this.SM,this.SD),n=this.Lunar(t),r=(n.month>=10?n.month:"0"+n.month)+""+(n.day>=10?n.day:"0"+n.day);return n=null,r},weekday:function(){var e=this.CONSTANT.CALENDAR_CHINESE_WEEKDAY;return e[this.dateObj.getDay()]},YYMMDD:function(){var e=[this.SY,"年",this.SM+1,"月",this.SD,"日"];return e.join("")},_isDate:function(e){var t=Object.prototype.toString.call(e);return"[object Date]"===t},_objectKey:function(e){var t=[];if(e)for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},isLeapYear:function(e){return 0===e?!1:e%4!=0?!1:e%100==0&&e%400!=0?!1:!0}});n.register({name:r,fn:i})}}),define("cWidgetCalendar",["cCoreInherit","cUtility","cUIBase","cUIHashObserve","cWidgetFactory","cWidgetAbstractCalendar"],function(e,t,n,r,s){"user strict";var o="Calendar";if(!s.hasWidget(o)){var u=s.create("Abstract.Calendar"),a=new e.Class(u,{__propertys__:function(){this.chineseHoliday=this.CONSTANT.CALENDAR_CHINESE_HOLIDAY,this.holiday=this.CONSTANT.CALENDAR_COMMON_HOLIDAY,this.DAYTITLE=this.CONSTANT.CALENDAR_WEEKDAY_SHORTNAME,this.SDAYTITLE=this.CONSTANT.CALENDAR_WEEKDAY_SHORTNAME2,this.DAYTITLE2=this.CONSTANT.CALENDAR_WEEKDAY_NAME,this.addClass(n.config.prefix+this.CONSTANT.CALENDAR),this.startMonth=t.getServerDate(),this.startMonth.setDate(this.CONSTANT.CALENDAR_INIT_DATE),this.Months=this.CONSTANT.CALENDAR_MONTH,this.validStartDate=t.getServerDate(),this.validStartDate.setHours(this.CONSTANT.INIT_DATE_TIME.H,this.CONSTANT.INIT_DATE_TIME.M,this.CONSTANT.INIT_DATE_TIME.S,this.CONSTANT.INIT_DATE_TIME.MS),this.validEndDate,this.date,this.dateVal={},this.titledom,this.leftback,this.cls=[this.CONSTANT.CALENDAR],this.title,this.noabsolute=!1,this.curDate,this.dateDoms={},this.html,this.clickEnabled=!0,this.msg="",this.callback=function(){},this.hashObserve=new r({hash:this.id,callback:function(){this._hide()},scope:this}),this.animatSwitch=!1,this.timeNum=250},initialize:function($super,e){this.setOption(function(e,t){switch(e){case"Months":case"timeNum":case"date":case"curDate":case"root":case"callback":case"title":case"noabsolute":case"msg":case"clickEnabled":case"animatSwitch":this[e]=t;break;case"cls":this.cls.push(t);break;case"validStartDate":case"validEndDate":this[e]=t,this[e].setHours(0,0,0,0);break;case"startMonth":this[e]=t,this[e].setDate(1)}}),$super(e),this.buildEvent()},selectedDate:function(){var e;for(var t in this.date)e=this.root.find("."+this.buildSelectCls(t))[0],this.dateDoms[t]=e,this.dateVal[t]=this.date[t].value;!this.curDate&&(this.curDate=t)},buildEvent:function(){this.addEvent("onCreate",this.onCreate),this.addEvent("onShow",this.onShow),this.addEvent("onHide",this.onHide)},buildElement:function(){this.titledom=this.root.find("header"),this.leftback=this.root.find("#js_return")},onCreate:function(){this.selectedDate(),this.buildElement(),this.buildElementsEvent(),this.noabsolute||this.root.css({position:"absolute"}),this.windowResizeHander=$.proxy(this.position,this)},onShow:function(){if(this.root.css({top:0,left:0,width:"100%"}),$(window).bind("resize",this.windowResizeHander),this.setzIndexTop(),this.hashObserve.start(),this.animatSwitch){var e=this;window.scrollTo(0,0),this.root.animate({"-webkit-transform":"translate(100%, 0px) translateZ(0px)",top:"0px"},0,function(){e.root.animate({"-webkit-transform":"translate(0px, 0px) translateZ(0px)"},e.timeNum,function(){e.windowResizeHander()})})}},position:function(){this.root.css({left:"0px",top:"0px"});var e=n.getPageSize();this.root.css({width:$(window).width(),height:e.height})},onHide:function(){$(window).unbind("resize",this.windowResizeHander),this.hashObserve.end()},createHtml:function(){return this.createCalendar()},buildElementsEvent:function(){var e=this;this.clickEnabled&&this.root.delegate(".cui_cld_daybox li","click",function(){b=$(this),b.hasClass("valid")||(b=b.closest(".valid"));var n=b.attr("data-date");n&&(n=t.Date.parse(n).valueOf(),e.isAccordBound(n)&&e._setDate(n,b))}),this.root.delegate("#js_return","click",$.proxy(function(){this._hide()},this))},_hide:function(){if(this.animatSwitch){var e=this;this.root.animate({"-webkit-transform":"translate(0px, 0px) translateZ(0px)",top:"0px"},0,function(){e.root.animate({"-webkit-transform":"translate(100%, 0px) translateZ(0px)"},e.timeNum,function(){e.hide()})})}else this.hide()},isAccordBound:function(e){var t=this.date[this.curDate];if(!t.bound)return!0;if(!t.bound.rules||!t.bound.error)return!0;var n,r=t.bound.rules;for(var i in r)if(n="string"==typeof r[i]?this.dateVal[r[i]]:this._isDate(r[i])&&r[i],e.setHours(0,0,0,0),n)switch(n.setHours(0,0,0,0),i){case"<":if(!(n>e))return t.bound.error.call(this,e,this.curDate,this.dateVal),!1;break;case">":if(!(e>n))return t.bound.error.call(this,e,this.curDate,this.dateVal),!1;break;case"<=":if(!(n>=e))return t.bound.error.call(this,e,this.curDate,this.dateVal),!1;break;case">=":if(!(e>=n))return t.bound.error.call(this,e,this.curDate,this.dateVal),!1}return!0},_setDate:function(e,n){var r=this.root.find("."+this.buildSelectCls(this.curDate));r.each($.proxy(function(e,n){var i=$(n);i.html(this.formatTitle(t.Date.parse(r.attr("data-date")).valueOf())),i.removeClass(this.buildSelectCls(this.curDate)),i.removeClass(this.buildSelectCls())},this)),this.dateDoms[this.curDate]=n;var i,s=$(n),o=this.date[this.curDate].title;i="function"==typeof o?this.formatTitle2(o):this.formatTitle,s.html(i.call(this,e)),s.removeClass("cui_cld_dayfuture"),s.removeClass("cui_cld_day_hint"),s.addClass("cui_cld_day_havetxt"),s.addClass(this.buildSelectCls(this.curDate)),s.addClass(this.buildSelectCls()),this.dateVal[this.curDate]=e,this.callback&&this.callback.call(this,e,this.curDate,this.dateVal,this.getDateInfo(e),this.calendarend)},setCurDate:function(e){this.curDate=e,this.create();var t=this.getCurTitle();this.titledom.html(t)},getEndDate:function(){return this.calendarend},buildSelectCls:function(e){return e?"selected-"+e:"cui_cld_daycrt"},getCurTitle:function(){var e=this.date[this.curDate],t="";return e&&(t=e.headtitle||this.title),t||this.title},createCalendar:function(){var e,n=[],r=this.getCurTitle(),i=t.isInApp(),s=i?' style=" margin-top: 0"':"";this.title&&!i&&n.push(["<header>","<h1>"+r+'</h1><i class="returnico i_bef" id="js_return"></i>',"</header>"].join("")),n.push(['<article class="cont_wrap"',s,'><div class="cui_cldwrap">'].join("")),n.push(this.createWeek(i));for(var o=0;o<this.Months;o++)e=new Date(this.startMonth),e.setMonth(e.getMonth()+o),n.push(this.createMonth(e));return n.push(["</div></atricle>"].join("")),n.join("")},createWeek:function(e){var t=e?" cui_cldweek_top0":"",n=['<ul class="cui_cldweek'+t+'">'];this.msg&&n.push('<p  class="cui_cldmsg">'+this.msg+"</p>");for(i in this.SDAYTITLE)n.push("<li>"+this.SDAYTITLE[i]+"</li>");return n.push("</ul>"),n.join("")},createMonth:function(e){var n,r=this.calcStructData(e),i=[];i.push('<section class="cui_cldunit">'),i.push('<h1 class="cui_cldmonth">'+t.Date.format(e,"Y年n月")+"</h1>"),i.push('<ul class="cui_cld_daybox">');for(var s,o,u=r.days.length,n=0;u>n;n++){o=r.days[n].length;for(var a=0;o>a;a++){s={};var f=r.days[n][a];if(f){var l=this.validStartDate||r.start,h=this.validEndDate||r.end;f>=l&&h>=f?s.valid=!0:(s.cui_cld_daypass=!0,s.invalid=!0)}else s.cui_cld_dayfuture=!0,s.invalid=!0;var p,d=this.getDateInfo(f);if(d?(p=d.daytitle||d.holiday||d.chineseday,p?(s.cui_cld_day_havetxt=!0,(d.holiday||d.chineseday)&&(s.cui_cld_day_hint=!0),p="<em>"+d.date+"</em><i>"+p+"</i>"):p="<em>"+d.date+"</em>"):p="",this.date)for(var v in this.date)f&&t.Date.format(this.dateVal[v]||this.date[v].value,"Y-m-d")==t.Date.format(f,"Y-m-d")&&(delete s.cui_cld_dayfuture,delete s.cui_cld_day_hint,s.cui_cld_day_havetxt=!0,s[this.buildSelectCls()]=!0,s[this.buildSelectCls(v)]=!0,p=this.date[v].title(f,function(){return d.daytitle||d.holiday||d.chineseday||d.date}),p="<em>"+p+"</em>");i.push('<li data-date="'+t.Date.format(f,"Y-m-d")+'" '+(s?' class="'+this._objectKey(s).join(" ")+'"':"")+">"+p+"</li>")}}return i.push("</ul></section>"),i.join("")},formatTitle:function(e){if(e){var t=this.getDateInfo(e);return t.holiday||t.chineseday||t.daytitle||t.date}return""},getDateInfo:function(e){if(e){var n=t.getServerDate(),r=new Date(e);r.setHours(1,1,1,0),n.setHours(1,1,1,0);var i=(r-n)/864e5,s={};s.daytitle=t.Date.format(n,"Ymd")==t.Date.format(e,"Ymd")?"今天":1==i?"明天":2==i?"后天":"";var o=this.solarDay2(e);s.chineseday=this.chineseHoliday[o]?this.chineseHoliday[o]:"";var u=t.Date.format(e,"md");return s.holiday=this.holiday[u]?this.holiday[u]:"",s.week=this.DAYTITLE[e.getDay()],s.week2=this.DAYTITLE2[e.getDay()],s.date=t.Date.format(e,"j"),s}},formatTitle2:function(e){return $.proxy(function(t){return e(t,$.proxy(function(e){return this.formatTitle(e)},this))},this)},calcStructData:function(e){var t=new Date(e),n=new Date(e);t.setDate(1),t.setHours(0,0,0,0);var r=t.getDay();n.setMonth(n.getMonth()+1,1),n.setHours(-24,0,0,0);for(var i,s=n.getDay(),o=(n.getDate()+(r+(6-s)))/7,u=[],a=0,f=0;o>a;a++){u[a]=[];for(var l=0;7>l;l++)if(0==a&&r>l)u[a].push("");else{if(i=new Date(t),i.setDate(i.getDate()+f),i>n)break;u[a].push(i),f++}}return this.calendarend=n,{start:t,end:n,days:u,loops:o}},setDate:function(e){this.create();for(var n in e)if(this.date[n]&&this._isDate(e[n])){e[n].setHours(0,0,0,0),this.date[n].value=e[n],this.dateVal[n]=e[n];var r=this.root.find("."+this.buildSelectCls(n));if(r.length){var i=t.Date.parse(r.data("date")).valueOf();r.removeClass(this.buildSelectCls(n)),r.removeClass(this.buildSelectCls()),r.html(this.formatTitle(i))}var s=this.root.find('[data-date="'+t.Date.format(e[n],"Y-m-d")+'"]');s.each($.proxy(function(t,r){r=$(r),r.hasClass("valid")&&(r.addClass(this.buildSelectCls(n)),r.addClass(this.buildSelectCls()),r.html(this.formatTitle2(this.date[n].title)(e[n])))},this)),this.dateDoms[n]=s}},addDate:function(e,n){this.create();var r,i,s;for(var o in e)if(!this.date[o]||n){this.date[o]=e[o],r=this.date[o]&&this.date[o].value,i=this.date[o]&&this.date[o].title,i="function"==typeof i?this.formatTitle2(i):$.proxy(this.formatTitle,this);var u=this.root.find("."+this.buildSelectCls(o));u.length&&(u.removeClass(this.buildSelectCls(o)),u.removeClass(this.buildSelectCls())),r&&(s=this.root.find('[data-date="'+t.Date.format(r,"Y-m-d")+'"]'),s.each($.proxy(function(e,t){t=$(t),t.hasClass("valid")&&(t.html(i(r)),t.addClass(this.buildSelectCls(o)),t.addClass(this.buildSelectCls()),this.dateVal[o]=r)},this)))}},removeDate:function(e){this.create();for(var n,r=0,i=e.length;i>r;r++)if(n=e[r],this.date[n]){var s=this.root.find("."+this.buildSelectCls(n));s.each($.proxy(function(e,r){var i=$(r);i.removeClass(this.buildSelectCls(n)),i.removeClass(this.buildSelectCls()),i.html(this.formatTitle(t.Date.parse(i.data("date")).valueOf()))},this)),delete this.date[n],delete this.dateVal[n]}},getDate:function(){var e={};for(var t in this.date)e[t]=this.date[t].value;return _.isEmpty(this.dateVal)?_.isEmpty(e)?{}:e:this.dateVal},update:function(e){this.setOption(function(e,t){switch(e){case"Months":case"date":case"curDate":case"root":case"callback":case"title":case"noabsolute":this[e]=t;break;case"cls":this.cls.push(t);break;case"validStartDate":case"validEndDate":this[e]=t,this[e].setHours(0,0,0,0);break;case"startMonth":this[e]=t,this[e].setDate(1)}}),this.readOption(e),this.create(),this.root.html(this.createCalendar()),this.trigger("onChange")}});s.register({name:o,fn:a})}}),define("cSessionStorage",["cBase","cAbstractStorage"],function(e,t){var n=new e.Class(t,{__propertys__:function(){},initialize:function($super,e){this.proxy=window.sessionStorage,$super(e)}});return n.getInstance=function(){return this.instance?this.instance:this.instance=new this},n.sessionStorage=n.getInstance(),n}),define("cSessionStore",["cBase","cAbstractStore","cSessionStorage"],function(e,t,n){var r=new e.Class(t,{__propertys__:function(){this.sProxy=n.getInstance()},initialize:function($super,e){$super(e)}});return r}),define("cWidgetListView",["cBase","cUICore","cWidgetFactory"],function(e,t,n){var r="ListView";if(!n.hasWidget(r)){var i=function(t){for(var n=new e.Hash,r=0;r<t.length;r++)n.add($(t[r]).data("hash"),$(t[r]));return n},s=s||{};s.__propertys__=function(){},s.initialize=function($super,e){if(e.container&&(this.rootBox=e.container),this.noResultText="您还没有记录哦",this.autoEmptyView="undefined"!=typeof e.autoEmptyView?e.autoEmptyView:!0,e.noResultText&&(this.noResultText=e.noResultText),e.listadapter&&(this.listadapter=e.listadapter,this.listadapter.regiseterObserver(this)),e.origin&&(this.origin=e.origin),!e.itemView)throw"ListView:no item view template";this.templateFactory=this.template(e.itemView),this.bindItemViewEvent=e.bindItemViewEvent,this.onUpdatePrepared=e.onUpdatePrepared,this.onUpdateFinished=e.onUpdateFinished,$super(e)},s.createHtml=function(){return this.update()},s.createItemView=function(e,t){var n=this.templateFactory(e);return $(n).addClass("c-item-view").data("hash",t)},s.update=function(){var t=this.rootBox.find(".c-item-view");this.map=i(t),this.onUpdatePrepared&&"function"==typeof this.onUpdatePrepared&&this.onUpdatePrepared();var n=new e.Hash,r=this,s=function(e,t,i){var s=r.map.getItem(t);s||(e.C_ITEM_INDEX=i,e.__origin__=r.origin,s=r.createItemView(e,t),r.bindItemViewEvent(s)),n.add(t,s)};if(this.listadapter.map.each(s),this.rootBox.hide(),this.rootBox.empty(),this.listadapter.list.length>0){var o=function(e){r.rootBox.append(e)};n.each(o)}else this.autoEmptyView&&this.rootBox.append('<div class="cui-load-error"><div class="cui-i cui-wifi cui-exclam"></div>'+this.noResultText+"</div>");this.rootBox.show(),this.onUpdateFinished&&"function"==typeof this.onUpdateFinished&&this.onUpdateFinished()},s.onUpdatePrepared=function(){},s.onUpdateFinished=function(){},s.openAutoEmptyView=function(){this.autoEmptyView=!0},s.closeAutoEmptyView=function(){this.autoEmptyView=!1};var o=new e.Class(t.AbstractView,s);n.register({name:r,fn:o})}}),define("cCommonListPage",["libs","cUI","cBasePageView","cWidgetFactory","cCommonPageFactory","cWidgetListView"],function(e,t,n,r,i){var s="CommonListPage";if(!i.hasPage(s)){var o=o||{};o.injectListView=function(e){e.workspace||(e.workspace=$(this.defaultHtml)),this.$el.append(e.workspace),e.container=e.container?this.$el.find(e.container):e.workspace.find("#c-list-view-container");var t=r.create("ListView");this.listview=new t(e)},o._onWidnowScroll=null,o.__isComplete__=!1,o.__isLoading__=!1,o.bottomLoading=null,o.addScrollListener=function(){this.__isComplete__=!1,this.__isLoading__=!1,$(window).bind("scroll",this._onWidnowScroll)},o.removeScrollListener=function(){$(window).unbind("scroll",this._onWidnowScroll),this.bottomLoading&&(this.bottomLoading.remove(),this.bottomLoading=null)},o.onWidnowScroll=function(){var e=t.Tools.getPageScrollPos();if(0!=e.top){var n=e.pageHeight-(e.top+e.height);81>=n&&!this.__isComplete__&&!this.__isLoading__&&(this.__isLoading__=!0,this.onBottomPull&&this.onBottomPull())}},o.closeBottomPull=function(){this.__isComplete__=!0},o.endPull=function(){this.__isLoading__=!1},o.showBottomLoading=function(){this.bottomLoading||(this.bottomLoading=$('<div class="cui-zl-load" id="zlLoading" style=""> <div class="cui-i cui-b-loading"></div><div class="cui-i  cui-mb-logo"></div> <p>加载中</p></div>')),this.$el.append(this.bottomLoading),this.bottomLoading.show()},o.hideBottomLoading=function(){this.bottomLoading&&this.bottomLoading.hide(),this.__isLoading__=!1},o.defaultHtml='<section class="res_list"><ul class="res_list_tab_arr_r" id="c-list-view-container"></ul></section>';var u=n.extend(o);i.register({name:s,fn:u})}}),define("cWidgetSlide",["cBase","cUICore","cWidgetFactory","libs"],function(e,t,n){var r="Slide";if(!n.hasWidget(r)){var i=0,s=new e.Class({__propertys__:function(){this.images=[],this.index=1,this.delay=3,this.defaultIndex,this.autoplay=!1,this.root,this.imageinter,this.imageouter,this.navbox,this.navs,this.navinter,this.container,this.interWidth,this.itemWidth,this.onchange=function(){},this.onerror=function(){},this.loop=!0,this.ENUM_STATE_EMPTY=0,this.ENUM_STATE_NOTEMPTY=1,this.state=this.ENUM_STATE_EMPTY,this.notimage="",this.notimagedom,this.setTimeoutResoure,this.isMove=!1,this.isadaptive=!1,this.dirs={left:"next",right:"pre"},this.dir="left",this.startX=0,this.startY=0},initialize:function(e){this.setOption(e),this.createLayout(),this.addImageItems();var n=function(){this.calcinterWidth(),this.state===this.ENUM_STATE_NOTEMPTY&&(this.initposition(),this.autoplay&&this.play(),this.images&&this.images.length>1&&this.buildEvent())};setTimeout($.proxy(n,this),0);var r=this;this.isadaptive&&$(window).on("resize",function(){r.calcinterWidth(),r.initposition();var e=0;$("."+t.config.prefix+"slide-img-item img").each(function(t,n){$(n).height()>e&&(e=$(n).height())}),r.imageinter.height(e),r.imageouter.height(e),r.container.height(e)})},setOption:function(e){for(var t in e)switch(t){case"autoplay":case"defaultIndex":case"container":case"notimage":case"delay":case"dir":case"loop":case"onchange":case"onerror":case"isadaptive":this[t]=e[t];break;case"images":if(e[t]&&"string"==typeof e[t][0]){for(var n=[],r=0,i=e[t].length;i>r;r++)n.push({src:e[t][r]});this[t]=n}else this[t]=e[t]}},calcinterWidth:function(){var e=this.imageinter.find("."+t.config.prefix+"slide-img-item"),n=0;this.interWidth=n,this.itemWidth=this.imageouter.width(),e.css("width",this.itemWidth+"px"),e.each(function(){n+=$(this).width()}),this.imageinter.css("width",n+"px")},createLayout:function(){this.root=$(['<div class="'+t.config.prefix+'slide">','<div class="'+t.config.prefix+'slide-imgsouter">','<div class="'+t.config.prefix+'slide-imgsinter">',"</div>","</div>",'<div class="'+t.config.prefix+'slide-nav">','<div class="'+t.config.prefix+'slide-nav-padding">',"</div>","</div>","</div>"].join("")),this.imageouter=this.root.find("."+t.config.prefix+"slide-imgsouter"),this.imageinter=this.root.find("."+t.config.prefix+"slide-imgsinter"),this.navbox=this.root.find("."+t.config.prefix+"slide-nav"),this.navinter=this.root.find("."+t.config.prefix+"slide-nav-padding"),this.isadaptive&&this.container.height(i),this.container.empty().append(this.root)},createImageItem:function(e,n,r){var i=[t.config.prefix+"slide-img-item"];n&&i.push(t.config.prefix+"slide-img-item-current"),r&&[].push.call(i,r);var s=$(['<div class="'+i.join(" ")+'">','<a href="'+(e.link?e.link:"javascript:void(0);")+'"><img src="'+e.src+'" title="'+(e.title||"")+'"/></a>',"</div>"].join("")),o=this;return s.find("img").bind("error",function(){var e=this;setTimeout(function(){o.notimage&&(e.src=o.notimage),o.onerror&&o.onerror(e),$(e).unbind("error")},100)}),s},addImageItems:function(){for(var e=0,n=this.images.length;n>e;e++)this.addItem(this.images[e],this.defaultIndex===e);var r,i;if(this.images.length){if(this.state=this.ENUM_STATE_NOTEMPTY,r=this.createImageItem(this.images[0],null,[t.config.prefix+"slide-img-pre"]),i=this.createImageItem(this.images[Math.max(0,this.images.length-1)],null,[t.config.prefix+"slide-img-last"]),this.loop||(r.css({visibility:"hidden"}),i.css({visibility:"hidden"})),this.isadaptive){var s=this,o=r.find("img");o.on("load",function(){s.container.height(o.height())})}this.imageinter.append(r),this.imageinter.prepend(i),this.navs=this.navinter.find("."+t.config.prefix+"slide-nav-item")}else this.state=this.ENUM_STATE_EMPTY,this.addEmptyItem(this.notimage)},initposition:function(){this.go(this.index,function(){},!0),this.onchange(this.index,this.index);var e=this.calcNextIndex();this.setNavCurrent(e)},addEmptyItem:function(e){var n=[t.config.prefix+"slide-img-item",t.config.prefix+"slide-img-item-empey"];this.notimagedom=$('<div class="'+n.join(" ")+'"></div>'),this.notimagedom.append(e),this.imageinter.append(this.notimagedom)},buildEvent:function(){this.imageouter.bind("touchstart",$.proxy(this.onTouchStart,this)),this.imageouter.bind("touchmove",$.proxy(this.onTouchMove,this)),this.imageouter.bind("touchend",$.proxy(this.onTouchEnd,this)),this.imageouter.bind("touchcancel",$.proxy(this.onTouchEnd,this))},onTouchStart:function(e){if(e.preventDefault(),this.isMove)return void (this.isTouchStart=!1);this.isTouchStart=!0;var n=t.Tools.getMousePosOfElement(e.targetTouches[0],e.currentTarget);this.stop(),this.startX=n.x,this.startY=n.y,this.imageinterLeft=parseInt(this.imageinter.css("left"))},onTouchMove:function(e){if(e.preventDefault(),!this.isMove&&this.isTouchStart){var n=t.Tools.getMousePosOfElement(e.targetTouches[0],e.currentTarget),r=n.x-this.startX;n.y-this.startY,this.imageinter.css("left",this.imageinterLeft+r+"px")}},onTouchEnd:function(e){if(e.preventDefault(),!this.isMove&&this.isTouchStart){var n=t.Tools.getMousePosOfElement(e.changedTouches[0],e.currentTarget),r=n.x-this.startX,i=(n.y-this.startY,$.proxy(function(){this.autoplay&&this.loop&&this.play()},this)),s=this.calcNextIndex()+1,o=this.images.length;r>50&&this.loop||r>50&&!this.loop&&1!==s?this.pre(i):-50>r&&this.loop||-50>r&&!this.loop&&o>s?this.next(i):this.imageinter.animate({left:this.imageinterLeft+"px"},null,i)}},createNavItem:function(e){return $(['<span class="'+t.config.prefix+"slide-nav-item"+(e?t.config.prefix+"slide-nav-item-current":"")+'"></span>'].join(""))},addItem:function(e,t){var n=this.createImageItem(e,t),r=this.createNavItem(t);this.imageinter.append(n),this.navinter.append(r)},play:function(){clearInterval(this.setTimeoutResoure),!this.images||this.images.length<2||(this.setTimeoutResoure=setInterval($.proxy(function(){this[this.dirs[this.dir]]()},this),1e3*this.delay))},stop:function(){clearInterval(this.setTimeoutResoure)},go:function(e,t,n){this.isMove=!0;var r=-(this.itemWidth*e);n?(this.imageinter.css({left:r+"px"}),this.isMove=!1,t&&t()):this.imageinter.animate({left:r+"px"},null,null,$.proxy(function(){this.isMove=!1,t&&t()},this))},next:function(e){var t=this.index;this.go(++this.index,$.proxy(function(){if(this.index===this.images.length+1){this.index=1;var n=-(this.itemWidth*this.index);this.imageinter.css({left:n+"px"})}var r=this.calcNextIndex();this.setNavCurrent(r),this.onchange(this.index,t),e&&e()},this))},setNavCurrent:function(e){this.navs.removeClass(t.config.prefix+"slide-nav-item-current"),$(this.navs.get(e)).addClass(t.config.prefix+"slide-nav-item-current")},calcNextIndex:function(){return this.index>this.images.length?0:this.index+1},pre:function(e){0==this.index&&(this.index=1);var t=this.index;this.go(--this.index,$.proxy(function(){if(0===this.index){this.index=this.images.length;var n=-(this.itemWidth*this.index);this.imageinter.css({left:n+"px"})}var r=this.calcPreIndex();this.setNavCurrent(r),this.onchange(this.index,t),e&&e()},this))},calcPreIndex:function(){return this.index<1?Math.max(0,this.images.length-1):this.index-1},empty:function(){this.stop(),this.imageinter.find("img").remove()}});n.register({name:r,fn:s})}}),define("cWidgetTipslayer",["cBase","cUICore","cWidgetFactory","cUIScroll"],function(e,t,n,r){var i="TipsLayer";if(!n.hasWidget(i)){var s=new e.Class(t.Layer,{__propertys__:function(){this.showTitle=!0,this.contentDom,this.title="",this.body="",this.mask=new t.Mask({classNames:[t.config.prefix+"opacitymask"]});var e=this;this.mask.addEvent("onShow",function(){this.setzIndexTop(-1),$(window).bind("resize",this.onResize),this.onResize();var t=this;this.root.bind("click",function(){t.hide(),t.root.unbind("click"),e.hide()})}),this._loadButtonHtml=function(){if(0==this.buttons.length)return"";var e=['<div class="cui-roller-btns">'];return $.each(this.buttons,function(t,n){var r="cui-btns-sure";"cancle"==n.type&&(r="cui-btns-cancle"),e.push('<div class="cui-flexbd '+r+'">'+n.text+"</div>")}),e.push("</div>"),e.join("")},this.html=""},initialize:function($super,e){$super({onCreate:function(){},onShow:function(){this.title=e.title||"",this.buttons=e.buttons||[],this.html=e.html||"","undefined"!=typeof e.showTitle&&(this.showTitle=e.showTitle),this.html=$(this.html),this.btns=$(this._loadButtonHtml()),this.header=e.header,this.footer=e.footer,this.buttons=e.buttons||[],this.contentDom.html(['<div class="cui-pop-box">','<div class="cui-hd">'+this.title+'<div class="lab-close-area"><span class="cui-top-close">×</span></div></div>','<div class="cui-bd" style="overflow: hidden; position: relative; background-color: #fafafa; width: 100%;">',"</div>","</div>"].join("")),e.width&&this.contentDom.find(".cui-pop-box").css({width:e.width+"px"}),this.mask.show(),this.reposition(),this.closeDom=this.contentDom.find(".cui-top-close").parent(),this.body=this.contentDom.find(".cui-bd"),this.header&&this.body.before($(this.header)),this.footer&&this.body.after($(this.footer)),this.html.length>1&&(this.html=$('<div style="width: 100%;"></div>').append(this.html)),this.html.css("background-color","white"),this.body.append(this.html);var t=parseInt(.7*$(window).height()),n=e.height||t,i=this.html.height();n>t&&(n=t),i>n&&this.body.css({height:n+"px"}),this.showTitle||this.contentDom.find(".cui-hd").hide();var s={wrapper:this.body,scroller:this.html};$.extend(s,e),this.s=new r(s),this.contentDom.find(".cui-pop-box").append(this.btns);var o=this;this.closeDom.on("click",function(){o.hide()}),$.each(this.btns.children(),function(e,t){var n=o.buttons[e].click;$(t).on("click",function(){n.call(o)})}),this.setHtml=function(e){o.body.html(e)}},onHide:function(){this.s&&this.s.destroy(),this.mask.hide(),this.closeDom.off("click"),this.root.remove(),this.mask.root.remove()}})}});n.register({name:i,fn:s})}}),define("HotelStore",["cStore","cBase","cUtility","cSessionStore","cStorage"],function(e,t,n,r,i){var s={},o=t.Date.parse("2014/8/12"),u=function(e){storeDate=e.sProxy.getSaveDate(e.key,!0),storeDate&&storeDate.getTime()<o.getTime()&&e.remove()};s.SearchHotelList=new t.Class(e,{__propertys__:function(){this.key="P_HOTEL_SEARCHLIST",this.lifeTime="3M",this.isUserData=!0},initialize:function($super,e){$super(e)}}),s.SearchHotelNearList=new t.Class(e,{__propertys__:function(){this.key="P_HOTEL_SEARCHNEARLIST",this.lifeTime="30M",this.isUserData=!0},initialize:function($super,e){$super(e)}}),s.cityListStore=new t.Class(e,{__propertys__:function(){this.key="P_HOTEL_CITYLIST",this.lifeTime="30D",this.defaultData={inland:{categoryCities:null,cityList:null,historyCities:null,hotCities:null,wordList:null},oversea:null}},initialize:function($super,e){$super(e),u(this)}}),s.protoCityListStore=new t.Class(e,{__propertys__:function(){this.key="P_HOTEL_CITYLIST_PROTOCITYLIST",this.lifeTime="30D",this.defaultData={inland:[],oversea:[]}},initialize:function($super,e){$super(e),u(this)}}),s.renderCategoryCitiesStore=new t.Class(e,{__propertys__:function(){this.key="P_HOTEL_CITYLIST_RENDERCATEGORYCITIES",this.lifeTime="30D",this.defaultData={inland:[],oversea:[]}},initialize:function($super,e){$super(e),u(this)}}),s.renderHisHotCityListStore=new t.Class(e,{__propertys__:function(){this.key="P_HOTEL_CITYLIST_RENDERHISHOTCITYLIST",this.lifeTime="30D",this.defaultData={inland:{historyCities:null,hotCities:null},oversea:null}},initialize:function($super,e){$super(e),u(this)}}),s.wordsCityListStore=new t.Class(e,{__propertys__:function(){this.key="P_HOTEL_CITYLIST_WORDSCITYLIST",this.lifeTime="30D",this.defaultData={inland:[],oversea:[]}},initialize:function($super,e){$super(e),u(this)}}),s.hotelDetailStore=new t.Class(e,{__propertys__:function(){this.key="P_HOTEL_DETAIL",this.lifeTime="1D"},initialize:function($super,e){$super(e)}}),s.hotelDetailPartRoomsStore=new t.Class(e,{__propertys__:function(){this.key="P_HOTEL_DETAIL_PART_ROOMS",this.lifeTime="1D"},initialize:function($super,e){$super(e)}}),s.queryStore=new t.Class(e,function(){var e={currentCurrencySymbol:null,daylater:0,days:0,detailHtml:{id:0,setInfo:{cityId:0,dstId:0,inDay:"",outDay:""},pay:0,contrl:2,needRoom:!0,num:0,biz:1,sourBiz:0,priceBiz:0,icldrid:0,alliance:{aid:0,ouid:"",sid:0},membertype:null}};return{__propertys__:function(){this.key="P_HOTEL_QUERYSTORE",this.lifeTime="1D",this.defaultData=e},initialize:function($super,e){$super(e)},formatDefaultData:function(t){var n=this.getAttr(t);if(!_.isEmpty(t)){if(!n)throw"the html name "+t+" is not found!";return this.setAttr(t,e[t]),this}throw"the html name is required!"}}}()),s.SearchHotelList=new t.Class(e,{__propertys__:function(){this.key="P_HOTEL_SEARCHLIST",this.lifeTime="1D",this.isUserData=!0},initialize:function($super,e){$super(e)}}),s.SearchParam=new t.Class(e,{__propertys__:function(){this.key="S_HOTEL_SEARCHPARAM",this.lifeTime="1D",this.isUserData=!0},initialize:function($super,e){$super(e)}}),s.SearchHoteCommonlList=new t.Class(e,{__propertys__:function(){this.key="P_HOTEL_COMMONSEARCHLIST",this.lifeTime="1D",this.isUserData=!0},initialize:function($super,e){$super(e)}}),s.TuanStatusStore=new t.Class(e,{__propertys__:function(){this.key="COMMON_TUAN_STATUS",this.lifeTime="30S"},initialize:function($super,e){$super(e)}});var a=new t.Class(e,{__propertys__:function(){this.lifeTime="2D",this.defaultData={hotelType:0,hotelId:"",backUrl:"",backAction:"",kwd:"",count:0,custPt:0,faclPt:0,raatPt:0,ratPt:0,servPt:0}},initialize:function($super,e){$super(e)}});s.TuanCommentListStore=new t.Class(e,{__propertys__:function(){this.key="TUAN_COMMENTLIST",this.lifeTime="10S"},initialize:function($super,e){$super(e)}}),s.HotelCommentListStore=new t.Class(e,{__propertys__:function(){this.key="HOTEL_COMMENTLIST",this.lifeTime="10S"},initialize:function($super,e){$super(e)}}),s.HXHotelInfoStore=new t.Class(e,{__propertys__:function(){this.key="HXHOTEL_INFO",this.lifeTime="30M"},initialize:function($super,e){$super(e)}}),s.HXHotelInfoParamStore=new t.Class(e,{__propertys__:function(){this.key="HXHOTEL_INFO_PARAM",this.lifeTime="30M"},initialize:function($super,e){$super(e)}}),s.HotelInfoStore=new t.Class(e,{__propertys__:function(){this.key="HOTEL_INFO",this.lifeTime="30M"},initialize:function($super,e){$super(e)}}),s.HotelInfoParamStore=new t.Class(e,{__propertys__:function(){this.key="HOTEL_INFO_PARAM",this.lifeTime="30M"},initialize:function($super,e){$super(e)}}),s.CommentListParamStore=new t.Class(e,{__propertys__:function(){this.key="COMMENTLIST_PARAM",this.lifeTime="30M"},initialize:function($super,e){$super(e)}}),s.ExplainPageStore=new t.Class(e,{__propertys__:function(){this.key="EXPLAIN_PAGE",this.lifeTime="30M"},initialize:function($super,e){$super(e)}}),s.CustomerHotelOrderId=new t.Class(e,{__propertys__:function(){this.key="CUSTOMER_HOTELORDER_ID",this.lifeTime="5H"},initialize:function($super,e){$super(e)}}),s.CustomerHotelOrderDetailStore=new t.Class(e,{__propertys__:function(){this.key="CUSTOMER_HOTELORDER_DETAIL",this.lifeTime="3M",this.isUserData=!0},initialize:function($super,e){$super(e)}}),s.HotelQueryStore=new t.Class(e,function(){var e={city:{cEN:"",cJP:"",cPY:"",cTryEN:"",cfrl:"",cityId:0,cname:"",ctryCN:"",ctryId:0,did:0,hot:0,idx:0,state:"0",stateEN:"0",type:0}};return{__propertys__:function(){this.key="S_HOTEL_QUERY",this.lifeTime="2D",this.defaultData={value:{brand_filter:null,inDay:(new t.Date(t.getServerDate())).format("Y-m-d"),outDay:(new t.Date(t.getServerDate())).addDay(1).format("Y-m-d"),query:[],kwText:"",kwCurCatType:"",kwCurVal:null,kwHasGeos:null},kwSelectedInfo:{query:[],kwText:"",kwCurCatType:"",kwCurVal:null,kwHasGeos:null,kwId:null},city:e.city,isSearchListWithCity:!0,address:null}},initialize:function($super,e){$super(e)},formatDefaultData:function(t){var n=this.getAttr(t);if(!_.isEmpty(t)){if(!n)throw"the html name "+t+" is not found!";return this.setAttr(t,e[t]),this}throw"the html name is required!"}}}()),s.MENU_BUSINESS=1,s.MENU_REGION=2,s.MENU_METRO=3,s.MENU_AIRPORT=4,s.MENU_BRAND=5,s.MENU_EVENT=6,s.MENU_SPOT=9,s.MENU_FEATURE=8,s.MENU_DISTANCE=20,s.MENU_FACILITY=30,s.MENU_PAYS=40,s.MENU_BOOKABLE=50,s.MENU_BARGAIN=60,s.MENU_AFFIRM=70,s.MENU_PRICE=80,s.MENU_STAR=90,s.MENU_AREA=100,s.MENU_ENFIRST=110,s.MENUS=[s.MENU_BUSINESS,s.MENU_REGION,s.MENU_METRO,s.MENU_AIRPORT,s.MENU_BRAND,s.MENU_EVENT,s.MENU_FEATURE,s.MENU_SPOT];var f={getCurTab:function(){return this.getAttr(this.buildPrefix()+"curtab."+this.getCurrentBranch())},setCurTab:function(e){this.setAttr(this.buildPrefix()+"curtab."+this.getCurrentBranch(),e)},clearCurTab:function(){this.setAttr(this.buildPrefix()+"curtab."+this.getCurrentBranch(),null)},delSelectOfType:function(e,t,n){var r={};n&&(r=null);var i=this;if(typeof t=="undefined")_.isArray(e)?_.each(e,function(e){i.setAttr(i.buildPrefix()+"selected."+i.getCurrentBranch()+"."+e,r)}):this.setAttr(this.buildPrefix()+"selected."+i.getCurrentBranch()+"."+e,r);else if(typeof e=="undefined")this.setAttr(this.buildPrefix()+"selected"+i.getCurrentBranch(),{});else{var s=this.getAttr(this.buildPrefix()+"selected."+i.getCurrentBranch()+"."+e)||{};_.isArray(t)?_.each(t,function(e){delete s[e]}):delete s[t],this.setAttr(this.buildPrefix()+"selected."+i.getCurrentBranch()+"."+e,s)}},getSelectOfType:function(e){var t=this.getAttr(this.buildPrefix()+"selected."+this.getCurrentBranch()+"."+e);return _.isBoolean(t)?t:t||null},addSelectOfType:function(e,t,n){n=n||!0;var r=this.getSelectOfType(e)||{};_.isArray(t)?_.each(t,function(e){typeof r[e]!="undefined"&&(r[e]=n)}):_.isObject(t)?_.each(t,function(e,t){r[t]=e}):_.isBoolean(t)?r=t:typeof r[t]=="undefined"&&(r[t]=n),this.setAttr(this.buildPrefix()+"selected."+this.getCurrentBranch()+"."+e,r)},clearSelectOftype:function(){this.setAttr(this.buildPrefix()+"selected."+this.getCurrentBranch(),{})},getSelectedId:function(){var e=this.getAttr(this.buildPrefix()+"selected."+this.getCurrentBranch()),t={};return _.each(e,function(e,n){t[n]={title:"",select:{}},_.each(e,function(e,r){_.isObject(e)?_.each(e,function(e,r){isNaN(r)?t[n].title=e:t[n].select[r]||(t[n].select[r]=e)}):t[n].select[r]||(t[n].select[r]=e)})}),t},getAllSelect:function(){var e=this.getAttr(this.buildPrefix()+"selected."+this.getCurrentBranch())||{},t={};return _.each(e,function(e,n){if(!_.isEmpty(e)||typeof e=="boolean")t[n]=e}),t},buildPrefix:function(){return this.prefix?this.prefix.indexOf(".")>-1?this.prefix:this.prefix+".":""},prefix:"",switchPrefix:function(e){this.prefix=e},BRANCH_TYPE_MASTER:"master",BRANCH_TYPE_PHANTOM:"phantom",switchBranch:function(e){this.setAttr("__branchName__",e)},getCurrentBranch:function(){return this.getAttr("__branchName__")||this.BRANCH_TYPE_MASTER},switchMasterBranch:function(){this.switchBranch(this.BRANCH_TYPE_MASTER)},switchPhantomBranch:function(){this.switchBranch(this.BRANCH_TYPE_PHANTOM)},cpMasterToPhantomBranch:function(){var e=this.getAttr(this.buildPrefix()+"selected."+this.BRANCH_TYPE_MASTER)||{};this.setAttr(this.buildPrefix()+"selected."+this.BRANCH_TYPE_PHANTOM,e)},cpPhantomToMasterBranch:function(){var e=this.getAttr(this.buildPrefix()+"selected."+this.BRANCH_TYPE_PHANTOM)||{};this.setAttr(this.buildPrefix()+"selected."+this.BRANCH_TYPE_MASTER,e)},clearPhantomBranch:function(){this.setAttr(this.buildPrefix()+"selected."+this.BRANCH_TYPE_PHANTOM,{})},setMasterBranchData:function(e){this.setAttr(this.buildPrefix()+"selected."+this.BRANCH_TYPE_MASTER,e)},getBAttr:function(e){var t=this.buildPrefix();return this.getAttr((t?t+".":"")+this.getCurrentBranch()+"."+e)},setBAttr:function(e,t){var n=this.buildPrefix();this.setAttr((n?n+".":"")+this.getCurrentBranch()+"."+e,t)},getB:function(){var e=this.buildPrefix();return this.getAttr((e?e+".":"")+this.getCurrentBranch())},setB:function(e){var t=this.buildPrefix();this.setAttr((t?t+".":"")+this.getCurrentBranch(),e)}};return s.HotelFilterStore=new t.Class(e,_.extend({__propertys__:function(){this.key="S_HOTEL_FILTER",this.lifeTime="2D",this.defaultData={}},initialize:function($super,e){$super(e)}},f)),s.HotelAreaFilterStore=new t.Class(s.HotelFilterStore,_.extend({__propertys__:function(){this.key="S_HOTEL_AREA_FILTER",this.lifeTime="2D"},initialize:function($super,e){$super(e)}},f)),s.HotelFilterTypeStore=new t.Class(e,{__propertys__:function(){this.key="S_HOTEL_FILTER_TYPE",this.lifeTime="2D"},initialize:function($super,e){$super(e)}}),s.HotelRemoteFilterDataStore=new t.Class(e,{__propertys__:function(){this.key="S_HOTEL_REMOTE_FILTER_DATA",this.lifeTime="10D",this.defaultData={changedFlag:{filter:!0,area:!0}}},initialize:function($super,e){$super(e)}}),s.HotelFilterTypeParamStore=new t.Class(e,{__propertys__:function(){this.key="S_HOTEL_FILTER_TYPE_PARAM",this.lifeTime="2D",this.defaultData={cityId:2,cidate:"2014/04/23",codate:"2014/05/25",type:255}},initialize:function($super,e){$super(e)}}),s.HotelFilterBrandCondStore=new t.Class(e,_.extend({__propertys__:function(){this.key="S_HOTEL_FILTER_BRAND_COND",this.lifeTime="2D"},initialize:function($super,e){$super(e)}},f)),s.HotelFilterSubPageStore=new t.Class(e,{__propertys__:function(){this.key="S_HOTEL_FILTER_SUB_PAGE",this.lifeTime="2D"},initialize:function($super,e){$super(e)}}),s.HotelListFilterTempStore=new t.Class(e,{__propertys__:function(){this.key="S_HOTEL_FILTER_DATA_TEMP",this.lifeTime="10D",this.defaultData={value:{filter:{},filter_searchParamSet:{brand:{},facility:{},distance:-1,pay:0,enfirst:-1,multiOptions:{brand:1,facility:1}}}}},initialize:function($super,e){$super(e)}}),s.HotelFilterTempStore=new t.Class(s.HotelFilterStore,_.extend({__propertys__:function(){this.key="S_HOTEL_FILTER_TEMP",this.lifeTime="2D"},initialize:function($super,e){$super(e)}},f)),s.HotelFilterTempStore.PREFIX_PRICE="price",s.HotelFilterTempStore.PREFIX_STAR="star",s.HotelFilterTempStore.PREFIX_DISTANCE="distance",s.HotelFilterTempStore.PREFIX_EVENT="event",s.HotelFilterTempStore.PREFIX_FACILITY="facility",s.HotelFilterTempStore.PREFIX_FEATURE="feature",s.HotelFilterTempStore.PREFIX_PAY="pay",s.HotelBookingFormStore=new t.Class(e,{__propertys__:function(){this.key="F_HOTEL_BOOKING_FORM",this.lifeTime="1D",this.isUserData=!0,this.defaultData={roominfo:{num:1},contact:{confirm:1},remks:[],price:{}}},initialize:function($super,e){$super(e)}}),s.HotelBookingCheckRequestStore=new t.Class(e,{__propertys__:function(){this.key="U_HOTEL_BOOKING_CHECK_REQUEST",this.lifeTime="1D",this.isUserData=!0,this.defaultData={}},initialize:function($super,e){$super(e)}}),s.HotelBookingCheckStore=new t.Class(e,{__propertys__:function(){this.key="S_HOTEL_BOOKING_CHECK_REQUEST",this.lifeTime="1D",this.isUserData=!0,this.defaultData={}},initialize:function($super,e){$super(e)}}),s.HotelBookingResultStore=new t.Class(e,{__propertys__:function(){this.key="U_HOTEL_BOOKING_RESULT",this.lifeTime="1D",this.isUserData=!0,this.defaultData={oid:0,rc:!1,rmsg:"",scode:"",sexpire:"",extno:"",rrefs:{modul:1,key:1,msg:""},hotelName:"",coupon:0,price:0,pay:0}},initialize:function($super,e){$super(e)}}),s.HotelPassengerInfoStore=new t.Class(e,{__propertys__:function(){this.key="U_HOTEL_PASSENGER_INFO",this.lifeTime="30D",this.isUserData=!0,this.defaultData={cn:{phone:"",email:""},oversea:{phone:"",email:"",ccode:""},curBiz:1}},initialize:function($super,e){$super(e)}}),s.HotelQueryKeywordsFilterStore=new t.Class(e,{__propertys__:function(){this.key="U_HOTEL_QUERY_FILTER",this.lifeTime="10D",this.defaultData={value:{cityId:2,cidate:"",codate:"",filterOptionSet:0,count:0}}},initialize:function($super,e){$super(e)}}),s.HotelKWHistoryStore=new t.Class(e,{__propertys__:function(){this.key="U_HOTEL_KEYWORD_HISTORY",this.lifeTime="30D",this.defaultData={value:{hisList:[]}}},initialize:function($super,e){$super(e)}}),s.SelectedCityStore=new t.Class(e,{__propertys__:function(){this.key="S_HOTEL_SELECTCITY",this.lifeTime="1M",this.defaultData={cityId:0,dstId:0,cname:"",state:"",ctry:"",gps:{}}},initialize:function($super,e){$super(e)}}),s.Morning=new t.Class(e,{__propertys__:function(){this.key="U_HOTEL_ISMORNING",this.lifeTime="12H",this.defaultData=!1},initialize:function($super,e){$super(e)},isMorning:function(){var e=s.HotelQueryStore.getInstance(),n=e.getAttr("inDay"),r=t.getServerDate(),i=r.getHours();if(i>=6)return this.set(!1),!1;if(n){n=t.Date.parse(n).date;var o=t.getServerDate();o.setHours(0),o.setMinutes(0),o.setMilliseconds(0),o.setSeconds(0),n<o&&(this.set(!0),e.setAttr("inDay",(new t.Date(o)).format("Y-m-d")))}else this.set(!1);return!!this.get()},setStatus:function(e){this.set(!!e)}}),s.HotelAreaFilterPageStore=new t.Class(e,{__propertys__:function(){this.key="S_HOTEL_AREA_FILTER_PAGE",this.lifeTime="10D"},initialize:function($super,e){$super(e)}}),s.filterData={},s.filterData.prices={"0,150":"￥150元以下","150,300":"￥150-￥300","301,450":"￥301-￥450","451,600":"￥451-￥600","601,1000":"￥601-￥1000",1e3:"￥1000以上"},s.filterData.prices_tw={"0,400":"￥400以下","401,700":"￥401-￥700","701,1000":"￥701-￥1000","1001,1300":"￥1001-￥1300","1301,1800":"￥1301-￥1800",1800:"￥1800以上"},s.filterData.stars={liansuo:"快捷连锁","0|1|2":"二星级及以下/经济",3:"三星级/舒适",4:"四星级/高档",5:"五星级/豪华"},s.filterData.stars_tw={"0|1|2":"二钻及以下/经济",3:"三钻/舒适",4:"四钻/高档",5:"五钻/豪华"},s.filterData.facilitys={1:"免费无线",2:"停车场",4:"酒店公寓",8:"含早餐",16:"三人房/家庭房",32:"免费有线",64:"游泳池",128:"接送服务",256:"健身房",512:"穿梭机场巴士",1024:"大床房",2048:"双床房",4096:"新装修/新开业"},s.filterData.pays={1:"预付房型",2:"到店付款",4:"可使用礼品卡支付"},s.filterData.distance={500:"500米以内",1e3:"1公里以内",2e3:"2公里以内",4e3:"4公里以内",8e3:"8公里以内",1e4:"10公里以内"},s.filterData.singleCheck={},s.filterData.singleCheck[s.MENU_BOOKABLE]="and,4093",s.filterData.singleCheck[s.MENU_BARGAIN]="or,64",s.filterData.singleCheck[s.MENU_AFFIRM]="or,256",s.filterDataKeyMap={},s.filterDataKeyMap[s.MENU_DISTANCE]="distance",s.filterDataKeyMap[s.MENU_PAYS]="pays",s.filterDataKeyMap[s.MENU_FACILITY]="facilitys",s.filterDataKeyMap[s.MENU_STAR]="stars",s.filterDataKeyMap[s.MENU_PRICE]="prices",s.filterQuerySettingMap={},s.filterQuerySettingMap[s.MENU_PRICE]=1,s.filterQuerySettingMap[s.MENU_STAR]=2,s.filterQuerySettingMap[s.MENU_BRAND]=3,s.filterQuerySettingMap[s.MENU_REGION]=4,s.filterQuerySettingMap[s.MENU_BUSINESS]=5,s.filterQuerySettingMap[s.MENU_METRO]=6,s.filterQuerySettingMap[s.MENU_EVENT]=15,s.getFilterListData=function(e,t){var n;return(n=s.filterDataKeyMap[e])?(t===3&&(n==="stars"||n==="prices")&&(n+="_tw"),s.filterData[n]):null},s.getFilterFieldTitle=function(e,t,n){var r=s.getFilterListData(e,n);return r?r[t]||null:null},s.HotelSubChannelParamStore=new t.Class(e,{__propertys__:function(){this.key="X_HOTEL_SUBCHANNEL",this.lifeTime="7D"},initialize:function($super,e){$super(e)}}),s.AddHotelFavoriteStore=new t.Class(e,{__propertys__:function(){this.key="P_HOTEL_ADDFAVORITE",this.lifeTime="1D",this.isUserData=!0},initialize:function($super,e){$super(e)}}),s.hotelCommentImgsStore=new t.Class(r,{__propertys__:function(){this.key="P_HOTEL_COMMENTDETAIL_IMGS",this.lifeTime="30M",this.defaultData={imgs:[],frombigimgs:0,hoteltype:1}},initialize:function($super,e){$super(e)}}),s.StrategyStore=new t.Class(e,{__propertys__:function(){this.key="P_HOTEL_STRATEGY_URL",this.lifeTime="7D"},initialize:function($super,e){$super(e)}}),s.HistoryUrl=new t.Class(e,{__propertys__:function(){this.key="P_HOTEL_HISTORY_URL",this.lifeTime="1D"},initialize:function($super,e){$super(e)}}),s.PassengerListStore=new t.Class(e,{__propertys__:function(){this.key="U_HOTEL_PASSENGER",this.lifeTime="30D"},initialize:function($super,e){$super(e)}}),s.OverseaSelectedPassengerStore=new t.Class(e,{__propertys__:function(){this.key="U_HOTEL_OVERSEA_SELECTED_PASSENGER",this.lifeTime="30D"},initialize:function($super,e){$super(e)}}),s.InlandSelectedPassengerStore=new t.Class(e,{__propertys__:function(){this.key="U_HOTEL_INLAND_SELECTED_PASSENGER",this.lifeTime="30D"},initialize:function($super,e){$super(e)}}),s.PostCityStore=new t.Class(e,{__propertys__:function(){this.key="CAR_POST_CITY_DATA",this.lifeTime="30D"},initialize:function($super,e){$super(e)}}),s.TitleListStore=new t.Class(e,{__propertys__:function(){this.key="U_HOTEL_TITLE_LIST",this.lifeTime="30D"},initialize:function($super,e){$super(e)}}),s.AddrListStore=new t.Class(e,{__propertys__:function(){this.key="U_HOTEL_ADDRESS_LIST",this.lifeTime="30D"},initialize:function($super,e){$super(e)}}),s.SelectedInvoiceStore=new t.Class(e,{__propertys__:function(){this.key="U_HOTEL_SELECTED_INVOICE",this.lifeTime="30D"},initialize:function($super,e){$super(e)}}),s.ChannelStore=new t.Class(e,{__propertys__:function(){this.key="P_HOTEL_CHANNELSYS",this.lifeTime="7D"},initialize:function($super,e){$super(e)}}),s.PositionlStore=new t.Class(e,{__propertys__:function(){this.key="S_HOTEL_POSITION",this.lifeTime="2M"},initialize:function($super,e){$super(e)}}),s}),define("HotelBaseModel",["cModel","cBase","CommonStore","cUtility","cUIToast"],function(e,t,n,r,i){function f(e){e=e||[];var t=window.location.host,r="accounts.ctrip.com";if(t.match(/^m\.ctrip\.com/i))r="accounts.ctrip.com";else if(t.match(/\.uat\.qa/i))r="accounts.uat.qa.nt.ctripcorp.com";else if(t.match(/\.fat/i)||t.match(/\.fws/i)||t.match(/^(localhost|172\.16|127\.0)/i))r="accounts.fat49.qa.nt.ctripcorp.com";var s="https://"+r+"/H5Login/#logout",o=n.UserStore.getInstance()||{};for(var u=0,a=e.length;u<a;u++){var f=e[u]||{};if(f.ErrorCode==="MobileRequestFilterException"){o.remove&&o.remove(),o.removeUser&&o.removeUser();var l=new i;l.show("由于您长时间未操作，已经将您的账号退出登录",2,function(){window.location.href=s})}}}var s=e.prototype.excute,o=n.UnionStore.getInstance(),u=e.prototype._getResponseHead,a=t.Class(e,{__propertys__:function(){},initialize:function($super,e){$super(e)},buildurl:function(){var e=this.baseurl(this.protocol),t=this.protocol+"://"+e.domain+"/"+e.path+(typeof this.url=="function"?this.url():this.url)+(e.isBA?"?isBastionRequest=true":"")+(e.isTest?"?subEnv=fat3":"");return t},baseurl:function(e){var t=location.host,e=e||location.protocol.replace(":",""),n="m.ctrip.com",i="hotelapi",s=this.serviceCode||"10324",o=!1,u=!1;return r.isInApp()?r.isPreProduction()=="1"?(o=!0,n="m.ctrip.com",i="restapi/soa2/"+s+"/hotel"):r.isPreProduction()=="0"?(u=!0,n="gateway.m.fws.qa.nt.ctripcorp.com",i="restapi/soa2/"+s+"/hotel"):r.isPreProduction()=="2"?(n="gateway.m.uat.qa.ctripcorp.com",i="restapi/soa2/"+s+"/hotel"):(n="m.ctrip.com",i="restapi/soa2/"+s+"/hotel"):t.match(/^(localhost|172\.16|127\.0|192\.168)/i)?(u=!0,n="gateway.m.fws.qa.nt.ctripcorp.com",i="restapi/soa2/"+s+"/hotel"):t.match(/m.fat/i)||t.match(/^m.test/i)?(u=!0,n="gateway.m.fws.qa.nt.ctripcorp.com",i="restapi/soa2/"+s+"/hotel"):t.match(/m\.uat\.qa/i)?(n="gateway.m.uat.qa.ctripcorp.com",i="restapi/soa2/"+s+"/hotel"):t.match(/^m\.lpt\.qa/i)?(n="m.lpt10.qa.nt.ctripcorp.com",i="restapi/hotels"):t.match(/10\.8/ig)||t.match(/h5seo\.mobile\.ctripcorp/ig)?(o=!0,n="m.ctrip.com",i="restapi/soa2/"+s+"/hotel"):(n="m.ctrip.com",i="restapi/soa2/"+s+"/hotel"),{domain:n,path:i,isBA:o,isTest:u}},excute:function(){var e=o.getAttr("AllianceID"),t=o.getAttr("SID"),n=o.getAttr("OUID");(e||t||n)&&this.setParam({alliance:{aid:e||0,sid:t||0,ouid:n||""}}),s.apply(this,arguments)}});return a}),define("OldRestfulModel",["cModel","cBase","CommonStore"],function(e,t,n){var r=e.prototype.excute,i=n.UnionStore.getInstance(),s=t.Class(e,{__propertys__:function(){},initialize:function($super,e){$super(e)},excute:function(){var e=i.getAttr("AllianceID"),t=i.getAttr("SID"),n=i.getAttr("OUID");(e||t||n)&&this.setParam({alliance:{aid:e||"",sid:t||"",ouid:n||""}}),r.apply(this,arguments)},buildurl:function(){var e=this.baseurl(this.protocol),t=this.protocol+"://"+e.domain+"/"+e.path+(typeof this.url=="function"?this.url():this.url);return t},baseurl:function(t){var n=location.host,t=t||location.protocol.replace(":",""),r="m.ctrip.com",i="restapi";return n.match(/^(localhost|172\.16|127\.0)/i)?(r="restful.m.fat19.qa.nt.ctripcorp.com",i="restapi5"):n.match(/m.fat/i)||n.match(/^m.test/i)?(r="restful.m.fat19.qa.nt.ctripcorp.com",i="restapi5"):n.match(/m\.uat\.qa/i)?(e.isHttps(t)?r="restful.m.uat.qa.nt.ctripcorp.com":r="m.uat.qa.nt.ctripcorp.com",i="restapi"):n.match(/^m\.lpt\.qa/i)?(r="m.lpt10.qa.nt.ctripcorp.com",i="restapi/hotels"):n.match(/10\.8/ig)||n.match(/h5seo\.mobile\.ctripcorp/ig)?(e.isHttps(t)?r="wpg.ctrip.com":r="10.8.2.111",i="restapi"):(e.isHttps(t)?r="wpg.ctrip.com":r="m.ctrip.com",i="restapi"),{domain:r,path:i}}});return s}),define("HotelModel",["HotelBaseModel","OldRestfulModel","cBase","HotelStore"],function(e,t,n,r){var i={},s="/hotels",o=new n.Class(e,{__propertys__:function(){this.method="POST",this.param={bdate:"",edate:"",pid:0,ext:"",flag:0,ver:0}},initialize:function($super,e){$super(e)}});i.cityListModel=new n.Class(e,{__propertys__:function(){this.url="/static/cityget",this.method="POST",this.param={},this.serviceCode="10325"},initialize:function($super,e){$super(e)}}),i.cityListSearchOverseaModel=new n.Class(e,{__propertys__:function(){this.url="/static/overseacityget",this.method="POST",this.param={},this.serviceCode="10325"},initialize:function($super,e){$super(e)}}),i.hotelDetailModel=new n.Class(e,{__propertys__:function(){this.url="/product/hoteldetailget",this.param={},this.method="POST",this.result=r.hotelDetailStore.getInstance()},initialize:function($super,e){$super(e)}}),i.hotelDetailPartRoomsModel=new n.Class(e,{__propertys__:function(){this.url="/product/roomget",this.param={},this.method="POST",this.result=r.hotelDetailPartRoomsStore.getInstance()},initialize:function($super,e){$super(e)}}),i.hotelFavorite=new n.Class(e,{__propertys__:function(){this.url="/Favorite/Edit",this.param={},this.method="POST"},initialize:function($super,e){$super(e)}}),i.TuanStatusModel=new n.Class(o,{__propertys__:function(){this.url="/Group/Room/Status/Query",this.result=r.TuanStatusStore.getInstance()},initialize:function($super,e){$super(e)}});var u=new n.Class(e,{__propertys__:function(){this.method="POST",this.param={ext:"",flag:0,hotelId:0,pageIdx:1,ver:0}},initialize:function($super,e){$super(e)}});return i.TuanCommentListModel=new n.Class(e,{__propertys__:function(){this.url="/Group/CommentList/Query",this.result=r.TuanCommentListStore.getInstance(),this.param=r.CommentListParamStore.getInstance(),this.isUserData=!0},initialize:function($super,e){$super(e)}}),i.HotelCommentListModel=new n.Class(e,{__propertys__:function(){this.url="/product/commentget",this.method="POST",this.result=r.HotelCommentListStore.getInstance(),this.param=r.CommentListParamStore.getInstance(),this.isUserData=!0},initialize:function($super,e){$super(e)}}),i.HXHotelInfoModel=new n.Class(e,{__propertys__:function(){this.method="POST",this.url="/product/hoteldetailget",this.result=r.HXHotelInfoStore.getInstance(),this.param=r.HXHotelInfoParamStore.getInstance()},initialize:function($super,e){$super(e)}}),i.CustomerHotelOrderDetailModel=new n.Class(e,{__propertys__:function(){this.url="/Order/Query",this.method="POST",this.param={ver:1,id:0,flag:9,status:0},this.result=r.CustomerHotelOrderDetailStore.getInstance(),this.isUserData=!0},initialize:function($super,e){$super(e)}}),i.SearchHotelList=new n.Class(e,{__propertys__:function(){this.url="/Product/HotelGet",this.method="POST",this.param={},this.result=r.SearchHotelList.getInstance(),this.isUserData=!0},initialize:function($super,e){$super(e)}}),i.SearchHotelNearList=new n.Class(e,{__propertys__:function(){this.url="/Product/HotelGet",this.method="POST",this.param={},this.result=r.SearchHotelNearList.getInstance(),this.isUserData=!0},initialize:function($super,e){$super(e)}}),i.SearchHoteCommonlList=new n.Class(e,{__propertys__:function(){this.url="/product/commonhotelget",this.method="POST",this.param={},this.result=r.SearchHoteCommonlList.getInstance(),this.isUserData=!0},initialize:function($super,e){$super(e)}}),i.HotelOrderCreateModel=new n.Class(e,{__propertys__:function(){this.url="/booking/orderpost",this.method="POST",this.param={},this.isUserData=!0},initialize:function($super,e){$super(e)}}),i.NonmemberLoginModel=new n.Class(t,{__propertys__:function(){this.url="/html5/Account/NonUserLogin",this.method="POST",this.param={},this.isUserData=!0,this.buildurl=function(){var e=location.host,t="m.ctrip.com";return e.match(/^(localhost|172\.16|127\.0)/i)?t="m.fat19.qa.nt.ctripcorp.com":e.match(/m.fat/i)||e.match(/^m.test/i)?t="m.fat19.qa.nt.ctripcorp.com":e.match(/m\.uat\.qa/i)?t="m.uat.qa.nt.ctripcorp.com":e.match(/^m\.lpt\.qa/i)?t="m.lpt10.qa.nt.ctripcorp.com":e.match(/10\.8/ig)?t="10.8.2.111":t="m.ctrip.com","http://"+t+this.url}},initialize:function($super,e){$super(e)}}),i.BookingCheckModel=new n.Class(e,{__propertys__:function(){this.url="/booking/bookcheckpost",this.method="POST",this.param={},this.result=r.HotelBookingCheckStore.getInstance(),this.isUserData=!0},initialize:function($super,e){$super(e)}}),i.PaymentModel=new n.Class(e,{__propertys__:function(){this.url="/payment/submitpost",this.method="POST",this.param={},this.isUserData=!0},initialize:function($super,e){$super(e)}}),i.PaymentThirdModel=new n.Class(e,{__propertys__:function(){this.url="/payment/thridsubmitpost",this.method="POST",this.param={},this.isUserData=!0},initialize:function($super,e){$super(e)}}),i.HotelFilterTypeModel=new n.Class(e,{__propertys__:function(){this.url="/static/filtertypeget",this.method="POST",this.isUserData=!0,this.param=r.HotelFilterTypeParamStore.getInstance(),this.result=r.HotelFilterTypeStore.getInstance(),this.keyMaps},initialize:function($super,e){$super(e)}}),i.HotelOrderDetailModel=new n.Class(e,{__propertys__:function(){this.url="/booking/OrderGet",this.method="POST",this.param={},this.isUserData=!0},initialize:function($super,e){$super(e)}}),i.HotelOrderRemindModel=new n.Class(e,{__propertys__:function(){this.url="/booking/orderremindpost",this.method="POST",this.param={},this.isUserData=!0},initialize:function($super,e){$super(e)}}),i.HotelOrderCancelModel=new n.Class(e,{__propertys__:function(){this.url="/Order/Cancel",this.method="POST",this.param={ver:1,oid:0,reason:""},this.isUserData=!0},initialize:function($super,e){$super(e)}}),i.HotelOrderDeleteModel=new n.Class(e,{__propertys__:function(){this.url="/booking/deleteorder",this.method="POST",this.param={ver:0,oid:0,type:1},this.isUserData=!0},initialize:function($super,e){$super(e)}}),i.AbstractRunnable=new n.Class({run:function(){throw"请覆写run方法！"}}),i.AbstractRunnable.getInstance=e.getInstance,i.HotelPageContro=new n.Class({__propertys__:function(){this.store=r.HotelFilterSubPageStore.getInstance()},setCurrent:function(e,t,n,r,i,s){this.store.set({title:e,modelName:t,param:n,complete:r,cancel:i,selected:s})},getTitle:function(){return this.store.getAttr("title")},getModelName:function(){return this.store.getAttr("modelName")},getParam:function(){return this.store.getAttr("param")},getSelected:function(){return this.store.getAttr("selected")},callComplete:function(e,t){var n=this.store.getAttr("complete"),r=i[n];r&&r.getInstance()instanceof i.AbstractRunnable&&r.getInstance().run(e,t)},callCancel:function(e,t){var n=this.store.getAttr("cancel"),r=i[n];r&&r.getInstance()instanceof i.AbstractRunnable&&r.getInstance().run(e,t)}}),i.HotelPageContro.getInstance=e.getInstance,i.FilterSubPageMetro=new n.Class(i.HotelFilterTypeModel,{initialize:function($super){$super()},combine:function(e,t){var n=t.id,r,i=e.metroLineObj||{};i.metros&&i.metros.length&&(r=_.filter(i.metros,function(e){return e.metId==n}));if(!r)return null;var s=[];return _.each(r[0].stations,function(e){s.push({id:e.sid,title:e.sname,extra:{param:t,fulldata:e}})}),s.unshift({id:-1,title:"全部",extra:{param:t}}),s}}),i.HotelQueryKWFilterInfoModel=new n.Class(e,{__propertys__:function(){this.url="/static/filtertypeget",this.method="POST",this.param={ver:1,cityId:2,type:511,did:-1,cidate:"",codate:""},this.isUserData=!1},initialize:function($super,e){$super(e)}}),i.HotelQueryKWACModel=new n.Class(e,{__propertys__:function(){this.url="/static/keywordget",this.method="POST",this.param={cityId:2,key:""},this.isUserData=!1},initialize:function($super,e){$super(e)}}),i.HotelCommentModel=new n.Class(e,{__propertys__:function(){this.url="/product/commentget",this.method="POST",this.param={id:0,idx:1,priceBiz:0,opr:0,expiretype:0,hcardids:"",imgmax:5},this.isUserData=!1},initialize:function($super,e){$super(e)}}),i.HotelVoucherModel=new n.Class(e,{__propertys__:function(){this.url="/booking/getvoucher",this.method="POST",this.param={},this.isUserData=!1},initialize:function($super,e){$super(e)}}),i.PassengerListModel=new n.Class(e,{__propertys__:function(){this.url="/customer/frequentpassengerget",this.param={idx:1},this.method="POST",this.isUserData=!0,this.serviceCode="10310"},initialize:function($super,e){$super(e)}}),i.SavePassengerModel=new n.Class(e,{__propertys__:function(){this.url="/customer/frequentpassengerpost",this.param={},this.method="POST",this.isUserData=!0,this.serviceCode="10310"},initialize:function($super,e){$super(e)},updateUrl:function(e){e?this.url="/customer/frequentpassengerput":this.url="/customer/frequentpassengerpost"}}),i.TitleListModel=new n.Class(e,{__propertys__:function(){this.url="/customer/invoiceget",this.param={},this.method="POST",this.isUserData=!0,this.serviceCode="10310"},initialize:function($super,e){$super(e)}}),i.TitleSaveModel=new n.Class(e,{__propertys__:function(){this.url="/customer/invoicepost",this.param={},this.method="POST",this.isUserData=!0,this.serviceCode="10310"},initialize:function($super,e){$super(e)},updateUrl:function(e){e?this.url="/customer/invoiceput":this.url="/customer/invoicepost"}}),i.AddrListModel=new n.Class(e,{__propertys__:function(){this.url="/customer/addressget",this.param={idx:1},this.method="POST",this.isUserData=!0,this.serviceCode="10310"},initialize:function($super,e){$super(e)}}),i.AddrSaveModel=new n.Class(e,{__propertys__:function(){this.url="/customer/addresspost",this.param={},this.method="POST",this.isUserData=!0},initialize:function($super,e){$super(e)},updateUrl:function(e){e?this.url="/customer/addressput":this.url="/customer/addresspost"}}),i.CheckDataModel=new n.Class(e,{__propertys__:function(){this.url="/booking/invoicecheck",this.param={},this.method="POST",this.isUserData=!0},initialize:function($super,e){$super(e)}}),i.PostCityModel=new n.Class(t,{__propertys__:function(){this.url="/Data/District",this.method="GET",this.param={ver:1,dataVer:0,type:1,parentKey:-1},this.contentType=e.CONTENT_TYPE_JSONP,this.dataformat=this.paraData},initialize:function($super,e){$super(e)},paraData:function(e){var t=e.districts||[],n=$.grep(t,function(e,t){return e.parentKey==0});for(var r=0,i=n.length;r<i;r++){var s=n[r].treeKey;n[r].citys=$.grep(t,function(e,t){return e.parentKey==s});var o=n[r].citys;for(var u=0,a=o.length;u<a;u++){var f=o[u].treeKey;o[u].contries=$.grep(t,function(e,t){return e.parentKey==f})}}return n}}),i.hotellightget=new n.Class(e,{__propertys__:function(){this.url="/product/hotellightget",this.method="POST",this.param={ids:0,biz:1},this.isUserData=!1},initialize:function($super,e){$super(e)}}),i.CustomerHotelOrderCancelModel=new n.Class(e,{__propertys__:function(){var e=location.host;this.url="/order/cancel",this.method="POST",this.param={ver:1,oid:0,reason:""},this.isUserData=!0},initialize:function($super,e){$super(e)}}),i}),define("Toolkit",[],function(){var e={stringBuilder:function(){if(arguments.length==0)return"";if(arguments.length==1)return arguments[0];var e=/{(\d+)?}/g,t=arguments,n=arguments[0].replace(e,function(e,n){return t[parseInt(n)+1]});return n},validateProxy:function(t){return function(n){return e.validate(n,t)}},validate:function(e,t){var n=e.split("."),r=t||window||{},t=r;for(var i=0,s=n.length;i<s;i++)r[n[i]]=i+1===n.length?r[n[i]]:r[n[i]]||{},r=r[n[i]];return r},ArrayIndexOf:Array.prototype.indexOf?function(e,t){return e=[].slice.call(e,0),e.indexOf(t)}:function(e,t){for(var n=e.length,r=!1;n--&&!r;){r=e[n]===t;if(r)return n}return n},QueryStringBuilder:function(t){function r(t){return t=t&&t.toLowerCase(),e.ArrayIndexOf(i,t)}function d(e,t){if(e&&t){var n=r(e);n>=0&&n<o.length?o[n]=t:(s.push(e),o.push(t),i.push(e.toLowerCase())),u[e]=t}return t}function v(e){var t=e?o[r(e)]:u;return t}function m(e){var t=u,n=r(e);e&&n>0?(delete u[e],s.splice(n,1),o.splice(n,1),i.splice(n,1)):(u={},s=[],o=[],i=[])}var n=arguments.callee;if(!(this instanceof n))return new n(t);var i=[],s=[],o=[],u={};if(t){var a=t.split("&");if(a)for(var f=a.length-1;f>=0;f--){var l=a[f],c=l&&l.split("="),h=c&&c[0],p=c&&c[1];h&&(u[h]=p,d(h,p))}}var g=function(e){try{e=e?decodeURIComponent(e):""}catch(t){}return encodeURIComponent(e).replace(/\*/g,"%2A").replace(/-/g,"%2D").replace(/_/g,"%5F").replace(/\./g,"%2E").replace(/!/g,"%21").replace(/~/g,"%7E").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")};this.set=d,this.get=v,this.remove=m,this.toString=function(e,t){e=e||"=",t=t||"&";var n=[];for(var r=0;r<s.length;r++)o[r]&&n.push(g(s[r])+e+g(o[r]));return n.join(t)||""}}};return e.validate.isUrl=function(t){return/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},e.validate.value=function(e,t,n){var r=e.split("."),i=t||window||{},t=i;for(var s=0,o=r.length;s<o;s++)i[r[s]]=s+1===r.length?i[r[s]]:i[r[s]]||{},i=i[r[s]];return typeof i!="number"&&!i&&typeof n!="undefined"&&(i=n),i},e.validate.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"},e.localStorage=function(e){var t={_ls:e.localStorage};return t.set=function(e,t){this._ls.setItem(e,t.toString())},t.get=function(e){return this._ls.getItem(e)},t.getAll=function(){return this._ls},t.del=function(e){var t=this.get(e);!t||this.__ls.removeItem("c")},t.clearAll=function(){e.localStorage.clear()},t}(window),e.getQueryStringByName=function(e){var t=window.location.hash.replace(/^.*?\?/,"").replace(/\|.+?(&|$)/g,"").match(new RegExp("[?&]?"+e+"=([^&]+)","i"));return t==null||t.length<1?"":t[1]},e.isTwCity=function(e){var t=[617,720,3844,3845,3846,3847,3848,3849,5152,5383,5589,6954,7203,7523,7524,7570,7613,7614,7662,7805,7808,7809,7810,7811];return t.indexOf(e)>=0},e.deepClone=function(e){var t;if(e instanceof Array){var n=e.length;t=[];while(n--)t[n]=this.deepClone(e[n]);return t}if(e instanceof Object){t={};for(var r in e)t[r]=this.deepClone(e[r]);return t}return e},e.sort=function(e,t){function n(e,n){return t?e-n:n-e}return typeof t!="boolean"&&(t=!0),e.sort(n)},e.removeAt=function(e,t){if(t<0||typeof t=="undefined")return e;if(_.isArray(t)){var n=0;t=this.sort(t,!1);for(index in t)n=index-1,e=this.removeAt(e,t[index]);return e}return e.slice(0,t).concat(e.slice(t+1,e.length))},e.formatTime=function(e,t){var n=new Date;!t||(typeof t=="string"&&(t=this.replaceAll(t,"-","/")),n=new Date(t));var r={"M+":n.getMonth()+1,"d+":n.getDate(),"h+":n.getHours(),"m+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};e||(e="yyyy-MM-dd hh:mm:ss"),/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in r)(new RegExp("("+i+")")).test(e)&&(e=e.replace(RegExp.$1,RegExp.$1.length==1?r[i]:("00"+r[i]).substr((""+r[i]).length)));return e},e.replaceAll=function(e,t,n){var r=new RegExp(t.replace(/([\(\)\[\]\{\}\^\$\+\-\*\?\.\"\'\|\/\\])/g,"\\$1"),"ig");return e.replace(r,n)},e.Math={_getExt:function(e,t){var n=(String(e||0).split(".")[1]||"").length,r=(String(t||0).split(".")[1]||"").length,i=Math.max(n,r),s=Math.pow(10,i);return s},plus:function(t,n){var r=e.Math._getExt(t,n);return t=this.multi(t,r),n=this.multi(n,r),(t+n)/r},minus:function(t,n){var r=e.Math._getExt(t,n);return t=this.multi(t,r),n=this.multi(n,r),(t-n)/r},multi:function(e,t){var n=(String(e||0).split(".")[1]||"").length,r=(String(t||0).split(".")[1]||"").length,i=n+r;return e=Number(String(e||0).replace(".","")),t=Number(String(t||0).replace(".","")),e*t/Math.pow(10,i)},div:function(t,n){var r=e.Math._getExt(t,n);return t=this.multi(t,r),n=this.multi(n,r),t/n}},e.classExtend=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},e.switchPageId=function(e,t,n){return e==2?n:t},e.replaceTag=function(e){return e=e||"",e=e.replace(/<[^>]+>/g,""),e},e.log=function(e){return!1},e.URL=function(e){this.protocol="",this.host="",this.port="",this.path="",this.query="",this.hash="",this.paths=[],this.querys={},this.initialize(e)},e.URL.prototype={constructor:e.URL,initialize:function(t){var n;typeof t=="string"?n=e.URL.parse(t):typeof t=="object"&&(n=t);for(var r in n)this.hasOwnProperty(r)&&(this[r]=n[r])},buildUrl:function(){return this.path=this.buildPath(),this.query=this.buildQuery(),(this.host?this.protocol+"//"+this.host+":"+this.port+"/":"")+this.path+(this.query?"?"+this.query:"")+(this.hash?"#"+this.hash:"")},buildPath:function(){return this.paths.join("/")},buildQuery:function(){var e=[];for(var t in this.querys)e.push(t+"="+this.querys[t]);return e.join("&")},setPath:function(e,t){return e<=this.paths.length&&(this.paths[e]=t),this},getPath:function(e){return this.paths[e]||null},setQuery:function(e,t){return this.querys[e]=t,this},getQuery:function(e){return this.querys[e]},removeQuery:function(e){delete this.querys[e]},clone:function(){return new e.URL(this)}},e.URL.parse=function(e){e=e||"",e=e.replace(/\\/g,"/");var t="",n="",r="",i="",s="",o="",u=[],a={},f;e.indexOf("://")>-1&&(f=e.split(":"),n=f.shift()+":",e=f.join(":")),e.indexOf("//")===0&&(e=e.replace("//",""),f=e.split("/"),t=f.shift(),e=f.join("/"),t.indexOf(":")>-1&&(f=t.split(":"),t=f[0],r=f[1])),e.search(/^(?:[^#]*)\?/i)>-1?(e=e.replace(/\?+/g,"?"),f=e.split("?"),i=f.shift(),e=f.join("?"),f=e.split("#"),s=f.shift(),o=f.join("#")):(f=e.split("#"),i=f.shift(),e=f.join("#"),o=e),u=i.split("/");if(s){f=s.split(/&/);var l;for(var c=0,h=f.length;c<h;c++)l=f[c].split("="),a[l[0]]=l[1]||""}return{url:e,host:t,protocol:n,port:r,path:i,query:s,hash:o,paths:u,querys:a}},e}),define("PageTreeConfig",[],function(){var e={index:{prev:"",url:"/webapp/hotel/",range:[]},citylist:{prev:"index",url:"/webapp/hotel/{oversea}citylist",range:["index"],params:{oversea:""}},querykeywords:{prev:"index",url:"/webapp/hotel/querykeywords",range:["index"]},queryfilterbrand:{prev:"querykeywords",url:"/webapp/hotel/queryfilterbrand",range:["querykeywords"]},queryfiltersubpage:{prev:"queryfiltersubpage",url:"/webapp/hotel/queryfiltersubpage?catname={catname}&metidx={metidx}",range:["querykeywords"],params:{catname:"",metidx:""}},queryfilterspot:{prev:"querykeywords",url:"/webapp/hotel/#queryfilterspot",range:["querykeywords"]},searchlist:{prev:"index",url:"/webapp/hotel/{oversea}{cityname}{cityid}/checkin-{days}-{delay}?biz={biz}&fr={fr}",range:["index"],jump:!1,params:{cityname:"shanghai",cityid:2,days:1,delay:0,biz:1,fr:"",oversea:""}},searchfilter:{prev:"searchlist",url:"/webapp/hotel/searchfilter",range:["searchlist","searchlistmap"],params:{isseo:1}},searchfilteroversea:{prev:"searchlist",url:"/webapp/hotel/searchfilteroversea",jump:!1,range:["searchlist"]},areafilteroversea:{prev:"searchlist",url:"/webapp/hotel/areafilteroversea",jump:!1,range:["searchlist"]},searchfilterfeature:{prev:"searchfilter",url:"/webapp/hotel/searchfilterfeature",range:["searchfilter"]},filterbrand:{prev:"searchfilter",url:"/webapp/hotel/filterbrand",range:["searchfilter"]},searchfilterdistance:{prev:"searchfilter",url:"/webapp/hotel/searchfilterdistance",range:["searchfilter"]},searchfilterfacility:{prev:"searchfilter",url:"/webapp/hotel/searchfilterfacility",range:["searchfilter"]},searchfilterpay:{prev:"searchfilter",url:"/webapp/hotel/searchfilterpay",range:["searchfilter"]},searchfilterevent:{prev:"searchfilter",url:"/webapp/hotel/searchfilterevent",range:["searchfilter"]},areafilter:{prev:"searchlist",url:"/webapp/hotel/areafilter",range:["searchfilter","searchlist"]},filtersubpage:{prev:"areafilter",url:"/webapp/hotel/#filtersubpage",range:["areafilter"]},searchlistmap:{prev:"searchlist",url:"/webapp/hotel/{cityname}{cityid}/map/checkin-{days}-{delay}?isseo=0&fr={fr}",range:["searchlist"],params:{cityname:"shanghai",cityid:2,days:1,delay:2,biz:1,fr:""}},detail:{prev:"searchlist",url:"/webapp/hotel/{oversea}hoteldetail/{hotelid}.html?biz={biz}&days={days}&daylater={daylater}&contrl={contrl}&num={num}&from={from}",range:["searchlist","hotelnearlist","searchlistmap","orderdetail"],params:{hotelid:0,daylater:0,days:1,pay:1,biz:1,contrl:2,num:1,from:"",oversea:""}},hotelinfo:{prev:"detail",url:"/webapp/hotel/{oversea}hoteldetail/more/{hotelid}.html?biz={biz}&days={days}&daylater={daylater}",range:["detail"],jump:!1,params:{hotelid:0,oversea:"",days:1,biz:1,daylater:0}},commenthx:{prev:"detail",url:"/webapp/hotel/#commenthx",range:["detail"],jump:!0,params:{hotelid:0,oversea:""}},comment:{prev:"detail",url:"/webapp/hotel/{oversea}hoteldetail/dianping/{hotelid}.html",range:["detail"],jump:!1,params:{hotelid:0,oversea:""}},commentimages:{prev:"comment",url:"/webapp/hotel/#commentimages?idx={idx}",range:["comment"],params:{idx:1}},hoteldetailimages:{prev:"detail",url:"/webapp/hotel/{oversea}hoteldetail/pic/{hotelid}.html",range:["detail"],params:{hotelid:0,oversea:""}},hotelpicturealbum:{prev:"hoteldetailimages",url:"/webapp/hotel/{oversea}hoteldetail/album/{hotelid}.html?idx={idx}",range:["hoteldetailimages"],jump:!1,params:{hotelid:0,idx:2,oversea:""}},detailmap:{prev:"detail",url:"/webapp/hotel/{oversea}hoteldetail/map/{hotelid}.html?pos={pos}&title={title}&biz={biz}&from={from}&days={days}&daylater={daylater}",range:["detail","orderdetail"],params:{hotelid:0,pos:"",title:"",biz:1,from:"",oversea:""}},hotelnearlist:{prev:"detail",url:"/webapp/hotel/{oversea}hoteldetail/nearlist/{hotelid}.html?cityid={cityid}&days={days}&daylater={daylater}&biz={biz}",range:["detail"],params:{cityid:2,hotelid:0,daylater:0,days:1,biz:1,oversea:""}},hotelpolicy:{prev:"detail",range:["detail"],url:"/webapp/hotel/{oversea}hoteldetail/policy",params:{oversea:""}},booking:{prev:"detail",url:"/webapp/hotel/booking",range:["detail"]},bookingextend:{prev:"orderdetail",url:"/webapp/hotel/bookingextend",range:["orderdetail"]},orderdetail:{prev:"orderresults",url:"/webapp/hotel/orderdetail?orderid={orderid}&ftype={ftype}&otype={otype}&from={from}&fr={fr}",range:["orderresults"]},orderresults:{prev:"index",url:"/webapp/hotel/orderresults?type={type}&val={val}&orderid={orderid}",range:["index","booking","bookingextend"]},special:{prev:"booking",url:"/webapp/hotel/special",range:["booking","bookingextend"]},couponsinfo:{prev:"booking",url:"/webapp/hotel/couponsinfo",range:["booking","bookingextend"]},checkinvoucher:{prev:"orderdetail",url:"/webapp/hotel/checkinvoucher?orderid={orderid}&biz={biz}",range:["orderdetail"]}};return e}),define("History",["c","cStore","PageTreeConfig"],function(e,t,n){function i(e){return e===null||e===undefined}function s(e){this.data={};for(var t in e)e[t]&&this.add(t,e[t].url,e[t].prev,e[t].jump,e[t].range,e[t].params)}function f(){this.stack=a.getInstance()}var r=e.base,o=/\{([^\{\}]+)\}/g;s.prototype={constructor:s,buildNode:function(e,t,n,r,i,s){return{id:e,prev:n,url:t,jump:r||!1,range:i,params:s||{}}},add:function(e,t,n,r,i,s){this.data[e]=this.buildNode(e,t,n,r,i,s)},getNode:function(e,t){var n=this.data[e];if(!n)return null;var r=n.url||"",s=n.param||{};t=t||{};var u=(n.url||"").replace(o,function(e,n){return i(t[n])?i(s[n])?"":s[n]:t[n]});return{id:n.id,prev:n.prev,url:n.url,reurl:u,jump:n.jump,range:n.range}},getPrevNode:function(e,t){var n=this.data[e],r=n&&n.prev&&this.data[n.prev]&&this.data[n.prev];if(!r)return null;t=t||{};var s=r.params||{},u=(r.url||"").replace(o,function(e,n){return i(t[n])?i(s[n])?"":s[n]:t[n]});return{id:r.id,url:r.url,prevurl:u,prev:r.prev,jump:r.jump,range:r.range}}};var u=new s(n),a=new r.Class(t,{__propertys__:function(){this.key="P_HOTEL_HISTORY_STACK",this.lifeTime="30D",this.isUserData=!0},initialize:function($super,e){$super(e)},pop:function(){var e=this.getAttr("history")||[],t=e.pop();return this.setAttr("history",e),t},push:function(e,t){var n=this.getAttr("history")||[],r=Math.max(0,n.length-1);t?n[r]=e:n.push(e),this.setAttr("history",n)},top:function(){var e=this.getAttr("history")||[],t=Math.max(0,e.length-1);return e[t]},length:function(){var e=this.getAttr("history");return e&&e.length||0},clear:function(){this.setAttr("history",[])},index:function(e){var t=this.getAttr("history")||[];return e=e<0?t.length+e:e,t[e]},addCache:function(e,t,n){var r={id:e,obj:t,replace:n};this.setAttr("cache",r)},getCache:function(){return this.getAttr("cache")||{}},clearCache:function(){this.setAttr("cache",{})},popById:function(e){var t=this.getAttr("history")||[],n=-1,r=0,i=null;for(var s=t.length-1;s>-1;s--){r++;if(t[s].id===e){n=s;break}}return n>-1&&(i=t.splice(n,r)),this.setAttr("history",t),i},addSequeHistory:function(e){var t=this.getAttr("sequehistory")||[],n=Math.max(0,t.length-1),r=t[n]||{};if(r.id===e.id)return;t.length>10&&t.splice(0,3),t.push(e),this.setAttr("sequehistory",t)},getSequeTop:function(e){var t=this.getAttr("sequehistory")||[],n=Math.max(0,t.length-1),r=null;return t[n]&&(t[n].id!=e?r=t[n]:t[n-1]&&(r=t[n-1])),r}});f.prototype={constructor:f,push:function(e,t,n,r){this.stack.addCache(e,f.buildEntry(e,t,n),r)},confirmPush:function(e){var t=this.stack.getCache();t.id===e&&(this.stack.push(t.obj,t.replace),this.stack.clearCache())},pop:function(){return this.stack.pop()},top:function(){return this.stack.top()},index:function(e){return this.stack.index(e)},clear:function(){this.stack.clear()},getCache:function(){return this.stack.getCache()},clearCache:function(){this.stack.clearCache()},popById:function(e){return this.stack.popById(e)},addSequeHistory:function(e){this.stack.addSequeHistory(e)},getSequeTop:function(e){return this.stack.getSequeTop(e)}},f.buildEntry=function(e,t,n){return{id:e,url:t,ver:n}};var l="_____FROM_____",c=function(e,t){this.tree=e,this.stack=t};c.prototype={constructor:c,back:function(e,t){var n=this.stack.pop(),r=this.stack.top(),i=this.tree.getPrevNode(e,t),s=this.tree.getNode(e),o="",u=s.range||[];if(r&&r.id===l)return this.stack.addSequeHistory({id:e,url:o}),this.stack.pop(),{fullurl:r.url,url:r.url.replace(/^[^#]+#/g,"").replace(/^#+/g,""),jump:!0};var a=!1,e;return n&&n.id===e&&r&&r.id&&(!u.length||_.indexOf(u,r.id)>-1)?(o=r.url,a=n.ver!==r.ver||s.jump,e=r.id):(o=i.prevurl,a=!!s.jump,e=i.id,this.stack.clear()),this.stack.addSequeHistory({id:e,url:o}),{fullurl:o,url:o.replace(/^[^#]+#/g,"").replace(/^#+/g,""),jump:a,id:e}},popById:function(e){return this.stack.popById(e)},forward:function(e,t,n,r){if(typeof t=="object"){var i=this.tree.getNode(e,t);t=i.reurl}return this.stack.push(e,t,n,r),this.stack.addSequeHistory({id:e,url:t}),t},confirmForward:function(e){this.stack.confirmPush(e)},getLastView:function(){var e=this.stack.getCache()||{},t,n;return e.id?t=this.stack.top():t=this.stack.index(-2),t},getLatelyView:function(e){var t=this.stack.getSequeTop(e);return t?t.id:null},addHistory:function(e,t,n){var r=this.stack.getCache()||{};r.id&&r.id!==e&&this.stack.clearCache();var i=this.stack.top(),s=this._getFromByUrl(t);if(!i||i.id!==e||s)s&&(this.clearHistory(),this.stack.push(l,s),this.stack.addSequeHistory({id:l,url:s}),this.confirmForward(l)),this.stack.push(e,t,n),this.stack.addSequeHistory({id:e,url:t}),this.confirmForward(e)},clearHistory:function(e,t,n){this.stack.clear(),e&&t&&this.addHistory(e,t,n)},isPrevPageOrigin:function(){var e=this.getLastView();return e&&e.id===l},switchTree:function(e){this.tree=e},_getFromByUrl:function(e){var t="from",n=(e||"").split(/#+/g),r=n[0],i=n[1]||"",s=null;if(r.indexOf(t)>-1){var o=this._getQueryString(r);o[t]&&(s=o[t])}if(i.indexOf(t)>-1){var u=this._getQueryString(i);u[t]&&(s=u[t])}return s&&(s=decodeURIComponent(s)),s&&!s.match(/^\s*(?:http|\/)/)&&(s=null),s},_getQueryString:function(e){var t=(e||"").split("?");t.shift();var t=t.join("?").split(/(?!\?[^?]*)&/g),n={},r;for(var i=0,s=t.length;i<s;i++)r=t[i].split("="),n[r.shift()]=r.join("=");return n}};var h=new c(u,new f);return h}),define("BusinessChannel",["HotelStore","CommonStore","Toolkit"],function(e,t,n){var r=t.UnionStore.getInstance(),i=function(t,n){this.view=t,this.viewname=n,this.homeURL="/webapp/mkt/ccb/",this.phoneNum="4008201533";var r=e.HotelSubChannelParamStore.getInstance();r.setAttr("subchannel","h5_ccb_app")};return i.prototype={index:{onShow:function(){var t=this,n=this.view;n.headerview.set({title:"国内/海外酒店",back:!0,view:n,tel:{number:t.phoneNum},home:!0,events:{homeHandler:function(){n.jump(t.homeURL)},returnHandler:function(){n.jump(t.homeURL)}}}),n.headerview.show();var r=e.ChannelStore.getInstance();n.getQuery("os")&&r.setAttr("os",n.getQuery("os")),n.getQuery("osver")&&r.setAttr("osver",n.getQuery("osver"))},onLoad:function(){localStorage.removeItem("USERINFO"),localStorage.removeItem("USER")}},citylist:{onShow:function(){var e=this.view;e.$el.find("#js_tab").hide()},onLoad:function(){var e=this.view;e.eventSearchOverSea=function(t){e.$el.find("#js_layerSearchBox_listBox_elmDownMark").parent().hide()}}},detail:{onShow:function(){var e=this.view,t=this;e.$el.find("#js_addStore").hide(),$("#js_favorite").hide(),$("#c-ui-header-tel").attr("href","tel:"+this.phoneNum),e.$el.find(".js_nearHotelList").hide()},onLoad:function(){var e=this.view,t=this;e.homeHandler=function(){e.jump(t.homeURL)},e.renderNearHotelBanner=function(){},e.bizGetContrl=function(e){return e&-9}}},searchfilter:{onShow:function(){var e=this.view;e.$el.find("#js_filter_pay").hide()}},booking:{onLoad:function(){var t=this,n=this.view,r=n.renderData;n.renderData=function(e,t){r.call(n,e,t),n.$el.find(".hotel-login-box,.hotel-loginbox").hide()},n.extandPlus=function(t){var n=e.ChannelStore.getInstance();return n.getAttr("os")&&(t.osType=~~n.getAttr("os")),n.getAttr("osver")&&(t.osVersion=n.getAttr("osver")),t},n.homeHandler=function(){n.jump(t.homeURL)}},onShow:function(){var e=this.view;$("#c-ui-header-tel").attr("href","tel:"+this.phoneNum)}},searchlist:{onShow:function(){var t=this.view;t.header.root.find(".js_switch").removeClass("title-switch").html("酒店列表"),t.$el.find(".js_hasitBox").hide();var n=e.HotelQueryStore.getInstance(),r=e.SearchParam.getInstance();n.setAttr("pay",4),r.setAttr("pay",4)},onLoad:function(){var t=e.HotelQueryStore.getInstance(),n=e.SearchParam.getInstance();t.setAttr("pay",4),n.setAttr("pay",4);var r=this.view,i=r.filterCon;r.hasitRender=function(){},r.listNearRender=function(){r.listHideLoading()},r.setNearBizParam=function(e){return e.pay=4,e},r.filterCon=function(e,t){var n=i(e,t);return n&-3}}},searchlistmap:{onShow:function(){},onLoad:function(){var t=e.HotelQueryStore.getInstance(),n=e.SearchParam.getInstance();t.setAttr("pay",4),n.setAttr("pay",4);var r=this.view,i=r.filterCon;r.filterCon=function(e,t){var n=i(e,t);return n&-3}}},orderdetail:{onShow:function(){var e=this.view,t=this;$("#c-ui-header-tel").attr("href","tel:"+t.phoneNum)},onLoad:function(){var e=this.view,t=this;e.homeHandler=function(){e.jump(t.homeURL)}}},orderresults:{onShow:function(){var e=this.view,t=this;$("#c-ui-header-tel").attr("href","tel:"+t.phoneNum)},onLoad:function(){var e=this.view,t=this;e.homeHandler=function(){e.jump(t.homeURL)}}},onLoad:function(){this.run("onLoad",arguments)},onShow:function(){this.run("onShow",arguments)},run:function(e,t){this[this.viewname]&&this[this.viewname][e]&&this[this.viewname][e].apply(this,t)}},function(e,n){var r=t.UnionStore.getInstance(),s=r.getAttr("AllianceID"),o=r.getAttr("SID"),u=r.getAttr("OUID");return s=s||e.getQuery("allianceid"),o=o||e.getQuery("sid"),u=u||e.getQuery("ouid"),s==19801&&o==449843?(saleBizObj=new i(e,n),saleBizObj):null}}),define("HotelBaseView",["c","cStore","HotelStore","HotelModel","cPageView","cCommonListPage","cCommonPageFactory","Toolkit","cUtility","History","BusinessChannel"],function(e,t,n,r,i,s,o,u,a,f,l){var c=n.HotelQueryStore.getInstance(),h=n.HotelSubChannelParamStore.getInstance(),p="HotelBaseView",d="HotelBaseListView";if(o.hasPage(p)||o.hasPage(d))return;var v=new e.base.Class(t,{__propertys__:function(){this.key="P_HOTEL_BURN_AFTER_READING",this.lifeTime="1H",this.defaultData={}},initialize:function($super){$super()},setOneMessage:function(e,t){this.setAttr(e,t)},getOneMessage:function(e){var t=this.getAttr(e);return t&&this.setAttr(e,""),t}}),m=v.getInstance(),g=g||{};g={env:{INLAND:1,OVERSEA:2,TW:3},saleBizObj:null,"super":i.prototype,typeChange:function(){},setType:function(e){c.setAttr("hotelType",e)},getType:function(){var e=c.getAttr("hotelType"),t,n=c.getAttr("city");return n&&n.cityId?this.isTWbyCityID(n.cityId)?t=this.env.TW:n.ctryId>1||n.countrytype==2?t=this.env.OVERSEA:t=this.env.INLAND:t=e,e&&e!=t&&this.typeChange(),this.setType(t),t},show:function(){var e=f.getLatelyView(this.getViewName())||"";this.lastViewId=e,this.__onLoad(e),this.super.show.apply(this,arguments),this.__onShow(e)},hide:function(){this.super.hide.apply(this,arguments),this.__onHide(arguments)},getViewName:function(){return this.config&&this.config.viewName},isTWbyCityID:function(e){return u.isTwCity(e)},__onLoad:function(e){f.confirmForward(this.getViewName()),Lizard.P("subchannel")&&h.setAttr("subchannel",Lizard.P("subchannel")),this.saleBizObj=l(this,this.getViewName()),this.getType(),this.saleBizObj&&this.saleBizObj.onLoad(),f.addHistory(this.getViewName(),location.href,2),this.isSeoPage()||$("body").removeClass("hotel-seo")},__onShow:function(){this.saleBizObj&&this.saleBizObj.onShow()},__onHide:function(e){},getHistory:function(){return f},isSeoPage:function(){return/\/html5\//i.test(window.location.href.replace(/[\?#].+$/,""))},back:function(e,t){this.setOneMessage("__lastViewName__",this.getViewName());var n=f.back(this.getViewName(),e);t===undefined&&(t=!0),n.jump?location.href=n.fullurl:Lizard.goTo(n.fullurl,{viewName:n.id,cache:t})},popById:function(e){var t=f.popById(e);t||f.clearHistory()},clearHistory:function(e,t){f.clearHistory(e,t)},forwardJump:function(e,t,n,r,i){this.setOneMessage("__lastViewName__",this.getViewName());if(n)t=f.forward(e,t,1,r),this.jump(t);else{t=f.forward(e,t,2,r);var s={viewName:e};i&&(s.cache=!0),Lizard.goTo(t,s)}},getLastViewName:function(){return this.getOneMessage("__lastViewName__")},setOneMessage:function(e,t){m.setOneMessage(e,t)},getOneMessage:function(e){return m.getOneMessage(e)}};var y=i.extend(g);o.register({name:p,fn:y});var s=o.create("CommonListPage"),b=s.extend(g);o.register({name:d,fn:b}),hotel.c=e});