<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <!-- 使用最新的ie内核渲染 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- 移动设备优先, 禁止缩放 -->
    <meta name="viewport" content="width=device-width, initial-scale=1,minimum-scale=1,maximum-scale=1, user-scalable=no">
    <!-- 国产浏览器(360)使用webkit内核 -->
    <meta name="renderer" content="webkit">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <!-- 禁止识别为手机号码 -->
    <meta name="format-detection" content="telephone=no" />
    <link href="css/bootstrap.min.css" type="text/css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/swiper.min.css"/>
    <link rel="stylesheet" type="text/css" href="css/public.css"/>
    <link rel="stylesheet" type="text/css" href="css/phoneNumber.css"/>
    <link rel="stylesheet" type="text/css" href="css/phoneIndex.css"/>
    <link rel="stylesheet" type="text/css" href="css/phoneType.css"/>
    <title>手机分类</title>
	<style type="text/css">

    </style>
</head>
<body>
	<div class="phone-type">
		<div class="pn-header">
			<!--
            	作者：648267773@qq.com
            	时间：2016-04-15
            	描述：.pnh-nav-up:向上排序
            		.pnh-nav-down：向下排序
            -->
			<ul class="pnh-ul">
				<li class="pnh-ul-click">综合</li>
				<li>销量</li>
				<li class="pnh-nav pnh-nav-up">价格</li>
				<li class="pnh-nav ">上架时间</li>
			</ul>
			<div class="clear"></div>
			<ul class="pth-ul">
				<li>低价清仓</li>
				<li>合约机</li>
				<li>4G手机</li>
				<li>老用户</li>
				<li>苹果</li>
				<li>三星</li>
				<li>国产</li>
				<li>其他</li>
				<div class="clear"></div>
			</ul>
			
		</div>
		<div class="pn-body">
			<!--
            	作者：648267773@qq.com
            	时间：2016-04-15
            	描述：.pn-click:选中的手机号码
            		.pt-money:html()表示手机价格
            		.pt-time:val()表示上架时间，值越大比较最新上传
            -->
            
			<div class="ib-list-father">
				<div class="ib-list">
					<img src="images/phone/index-02.jpg"/>
					<h1>【买手机送话费】针对四川移动用户 phone6S plus</h1>
					<p class="ibl-p-01">返&yen;话费分24月划分</p>
					<p class="ibl-p-02"><span class="ibl-span-01">&yen;<span class="pt-money">4197.00</span></span><s class="ibl-s-01">&yen;4500</s></p>
					<a class="ibl-more" href="#"></a>
					<input class="pt-time" type="hidden" value="2" />
				</div>
				<div class="ib-list">
					<img src="images/phone/index-02.jpg"/>
					<h1>【买手机送话费】针对四川移动用户 phone6S plus</h1>
					<p class="ibl-p-01">返&yen;话费分24月划分</p>
					<p class="ibl-p-02"><span class="ibl-span-01">&yen;<span class="pt-money">4197.00</span></span><s class="ibl-s-01">&yen;4500</s></p>
					<a class="ibl-more" href="#"></a>
					<input class="pt-time" type="hidden" value="2" />
				</div>
				<div class="ib-list">
					<img src="images/phone/index-02.jpg"/>
					<h1>【买手机送话费】针对四川移动用户 phone6S plus</h1>
					<p class="ibl-p-01">返&yen;话费分24月划分</p>
					<p class="ibl-p-02"><span class="ibl-span-01">&yen;<span class="pt-money">4193.00</span></span><s class="ibl-s-01">&yen;4500</s></p>
					<a class="ibl-more" href="#"></a>
					<input class="pt-time" type="hidden" value="1" />
				</div>
			</div>
		</div>
	</div>
	<script src="js/jquery-2.1.3.min.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		$(function(){
			
			//点击排序
			$('.pnh-nav').on('click',function(){
				var classUp = 'pnh-nav-up',
					classDown = 'pnh-nav-down',
					thisIndex = $(this).index();
				//上架时间排序
				if(thisIndex=='3')
				{
					var phoneArray = new Array();
					var numberPhone = $('.pt-time');
					numberPhone.each(function(){
						var thisVal = $(this).val();
						phoneArray.push(thisVal);
					})
					phoneArray.sort();
					console.log(phoneArray);
					//向上排序
					if($(this).hasClass(classDown))
					{
						$(this).addClass(classUp).removeClass(classDown).siblings().removeClass(classDown).removeClass(classUp);
						//alert('向上号码排序');
						for(var i=0;i<phoneArray.length;i++)
						{
							
							numberPhone.each(function(){
								var thisVal = $(this).val();
								if(thisVal==phoneArray[i])
								{
									$(this).parents('.ib-list').appendTo('.ib-list-father');
								}
									
							})
						}
						
					}
					//向下排序
					else
					{
						$(this).addClass(classDown).removeClass(classUp).siblings().removeClass(classDown).removeClass(classUp);
						//alert('向下号码排序');
						for(var i=0;i<phoneArray.length;i++)
						{
							numberPhone.each(function(){
								var thisVal = $(this).val();
								if(thisVal==phoneArray[i])
								{
									$(this).parents('.ib-list').prependTo('.ib-list-father');
								}
									
							})
						}
					}
				}
				//价值排序
				else if(thisIndex=='2')
				{
					var moneyArray = new Array();
					var numberMoney = $('.pt-money');
					numberMoney.each(function(){
						var thisVal = parseInt($(this).html());
						moneyArray.push(thisVal);
					})
					moneyArray.sort();
					console.log(moneyArray);
					//向上排序
					if($(this).hasClass(classDown))
					{
						$(this).addClass(classUp).removeClass(classDown).siblings().removeClass(classDown).removeClass(classUp);
						//alert('向上价值排序');
						for(var i=0;i<moneyArray.length;i++)
						{
							
							numberMoney.each(function(){
								var thisVal = parseInt($(this).html());
								if(thisVal==moneyArray[i])
								{
									
									$(this).parents('.ib-list').appendTo('.ib-list-father');

								}
								
							})
						}
					}
					//向下排序
					else
					{
						$(this).addClass(classDown).removeClass(classUp).siblings().removeClass(classDown).removeClass(classUp);
						//alert('向下价值排序');
						for(var i=0;i<moneyArray.length;i++)
						{
							
							numberMoney.each(function(){
								var thisVal = parseInt($(this).html());
								if(thisVal==moneyArray[i])
								{
									$(this).parents('.ib-list').prependTo('.ib-list-father');
								}
									
							})
						}
					}
				}
				//数据错误
				else
				{
					alert('数据错误')
				}
				
			})
			
			//点击选中手机号码
			$('.pn-list-div').on('click',function(){
				var clickClass = 'pn-click';
				$(this).addClass(clickClass).siblings().removeClass(clickClass);
			})
			
			
			
			//默认价格向下排序
			$('.pnh-nav').click();
			var aaa= parseInt($('.pt-money').html());
			//alert(aaa)
		})
		
	</script>
</body>
</html>